"use strict";(self.webpackChunkinventory_management_ui=self.webpackChunkinventory_management_ui||[]).push([[787],{3514:(k,N,l)=>{l.d(N,{O:()=>v,x:()=>h});var h=function(i){return i.itemName="Item Name",i.itemCode="Item Code",i.salePrice="Sale Price",i.description="Description",i.availableQuantity="Available Quantity",i.action="Action",i.quantity="Quantity",i.select="Select",i.purchasePrice="Purchase Price",i.subAmount="Sub Amount",i}(h||{}),v=function(i){return i.supplierInfo="Supplier Info",i.invoiceId="Invoice Id",i.purchaseDate="Purchase Date",i.totalAmount="Total Amount",i.customerInfo="Customer Info",i.date="Date",i.status="Status",i.price="Price",i.action="Action",i.saleDate="Sale Date",i.estimationDate="Estimation Date",i.subTotal="Total",i.amount="Amount",i.invoiceDate="Invoice Date",i.dueDate="Due Date",i.customer_supplier_info="Customer / Supplier Info",i}(v||{})},8787:(k,N,l)=>{l.r(N),l.d(N,{DashboardModule:()=>lt});var h=l(6814),v=l(1896),i=l(5879),c=l(6223),f=l(3620),t=l(3997),u=l(4664),_=l(7398),T=l(788),L=l(9692),q=l(2893),C=l(9157),A=l(2032),g=l(2296),x=l(1274),P=l(617),S=l(2651),V=l(3680),F=l(1919),Q=l(6381);function tt(y,M){if(1&y&&(i.TgZ(0,"a",9)(1,"mat-icon",7),i._uU(2),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA()()),2&y){const m=M.$implicit;i.Q6J("routerLink",m.routerLink),i.xp6(2),i.Oqu(m.icon),i.xp6(2),i.Oqu(m.heading)}}let J=(()=>{class y{constructor(m,p){this.router=m,this.authService=p,this.sideNavWidth=200,this.width=200,this.slideIcon="arrow_left",this.sideNavHeadings=[{heading:"Dashboard",icon:"home",routerLink:"/dashboard/home"},{heading:"In stock",icon:"local_grocery_store",routerLink:"/dashboard/in-stock"},{heading:"Sales",icon:"currency_rupee",routerLink:"/dashboard/sales"},{heading:"Purchase",icon:"receipt_long",routerLink:"/dashboard/purchase"},{heading:"Balance Sheet",icon:"query_stats",routerLink:"/dashboard/balance-sheet"}]}slideOpen(){55==this.sideNavWidth?(this.width=200,this.sideNavWidth=200,this.slideIcon="arrow_left"):(this.width=55,this.sideNavWidth=55,this.slideIcon="arrow_right")}isActive(m){return this.router.isActive(m,!0)}logout(){this.authService.clearAuthToken(),this.router.navigate([""]),window.history.replaceState(null,"",window.location.href)}static#t=this.\u0275fac=function(p){return new(p||y)(i.Y36(v.F0),i.Y36(L.e))};static#e=this.\u0275cmp=i.Xpm({type:y,selectors:[["app-side-dashboard"]],decls:15,vars:6,consts:[["mode","side","opened","",1,"sideNav"],["sidenav",""],[1,"nav"],[1,"slide-icon",3,"click"],[1,"innerNavDiv"],["mat-list-item","","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","href","#",1,"log-out",3,"click"],["matListItemIcon",""],[1,"router-container"],["mat-list-item","","routerLinkActive","active",3,"routerLink"]],template:function(p,Z){1&p&&(i.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav",0,1)(3,"mat-nav-list",2)(4,"mat-icon",3),i.NdJ("click",function(){return Z.slideOpen()}),i._uU(5),i.qZA(),i.TgZ(6,"div",4),i.YNc(7,tt,5,3,"a",5),i.TgZ(8,"a",6),i.NdJ("click",function(){return Z.logout()}),i.TgZ(9,"mat-icon",7),i._uU(10,"exit_to_app"),i.qZA(),i.TgZ(11,"span"),i._uU(12,"Logout"),i.qZA()()()()(),i.TgZ(13,"mat-sidenav-content",8),i._UZ(14,"router-outlet"),i.qZA()()),2&p&&(i.xp6(1),i.Udp("width",Z.sideNavWidth,"px"),i.xp6(4),i.Oqu(Z.slideIcon),i.xp6(2),i.Q6J("ngForOf",Z.sideNavHeadings),i.xp6(6),i.Udp("margin-left",Z.width,"px"))},dependencies:[h.sg,P.Hw,S.JX,S.TM,S.Rh,F.Hk,F.Tg,F.Yt,v.lC,v.rH,v.Od],styles:[".router-container[_ngcontent-%COMP%]{height:calc(100% - 64px)!important;background-color:#f9fbfd}.sideNav[_ngcontent-%COMP%]{transition:.9s ease-in-out}.sideNav[_ngcontent-%COMP%]   .slide-icon[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:1rem;border-radius:1rem}.sideNav[_ngcontent-%COMP%]   .slide-icon[_ngcontent-%COMP%]:active{background-color:#4985e5;color:#fff}mat-sidenav-content[_ngcontent-%COMP%]{transition:.9s ease-in-out;padding:1rem;height:100vh;overflow:auto}.nav[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:.5rem;margin-bottom:.5rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.7rem;color:#1f2937;margin:0rem 1rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f2937;font-weight:600}.nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#4985e5!important}.nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff!important}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4985e5}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#fff}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{position:absolute;bottom:0;background:#fff}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:red}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:active{background-color:#fff!important}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:red!important}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:hover{background-color:red}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#fff}mat-sidenav[_ngcontent-%COMP%]{position:fixed;top:4rem}@media screen and (max-width: 980px){.slide-icon[_ngcontent-%COMP%]{display:none}.innerNavDiv[_ngcontent-%COMP%]{display:contents}mat-sidenav-content[_ngcontent-%COMP%]{margin:0!important;padding-bottom:150px}mat-sidenav[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;flex-direction:row}.sideNav[_ngcontent-%COMP%]{width:100%!important;height:auto;position:fixed;bottom:0;top:auto}.nav[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:row;width:100%;gap:.5rem;overflow:scroll}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem 4rem;height:100%}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#4985e5}.nav[_ngcontent-%COMP%]   .log-out[_ngcontent-%COMP%]{margin:0;position:relative}}"]})}return y})();function D(y,M){if(1&y&&(i.TgZ(0,"span",30),i._uU(1),i.qZA()),2&y){const m=i.oxw(2);i.xp6(1),i.Oqu(m.organization.organizationName)}}function Y(y,M){if(1&y){const m=i.EpF();i.TgZ(0,"mat-option",31),i.NdJ("onSelectionChange",function(){const O=i.CHM(m).$implicit,w=i.oxw(2);return i.KtG(w.onOptionSelected(O))}),i._uU(1),i.qZA()}if(2&y){const m=M.$implicit,p=i.oxw(2);i.Q6J("value",m.itemName),i.xp6(1),i.hij(" ",p.getNameAndId(m)," ")}}function z(y,M){if(1&y&&(i.TgZ(0,"span",30),i._uU(1),i.qZA()),2&y){const m=i.oxw(2);i.xp6(1),i.Oqu(m.organization.organizationName)}}function et(y,M){if(1&y){const m=i.EpF();i.TgZ(0,"mat-option",31),i.NdJ("onSelectionChange",function(){const O=i.CHM(m).$implicit,w=i.oxw(2);return i.KtG(w.onOptionSelected(O))}),i._uU(1),i.qZA()}if(2&y){const m=M.$implicit,p=i.oxw(2);i.Q6J("value",m.itemName),i.xp6(1),i.hij(" ",p.getNameAndId(m)," ")}}function ot(y,M){if(1&y){const m=i.EpF();i.TgZ(0,"header")(1,"mat-toolbar",10)(2,"a",11),i._UZ(3,"img",12),i.YNc(4,D,2,1,"span",13),i.qZA(),i.TgZ(5,"mat-form-field",14)(6,"mat-icon",15),i._uU(7,"search"),i.qZA(),i._UZ(8,"input",16),i.TgZ(9,"mat-autocomplete",null,17),i.YNc(11,Y,2,2,"mat-option",18),i.ALo(12,"async"),i.qZA()(),i._UZ(13,"span",19),i.TgZ(14,"button",20),i.NdJ("click",function(){i.CHM(m);const Z=i.oxw();return i.KtG(Z.createSale())}),i.TgZ(15,"mat-icon"),i._uU(16,"add_shopping_cart"),i.qZA(),i._uU(17,"Add Sale "),i.qZA(),i.TgZ(18,"button",20),i.NdJ("click",function(){i.CHM(m);const Z=i.oxw();return i.KtG(Z.createPurchase())}),i.TgZ(19,"mat-icon"),i._uU(20,"add_shopping_cart"),i.qZA(),i._uU(21,"Add Purchase "),i.qZA(),i.TgZ(22,"button",21),i.NdJ("click",function(){i.CHM(m);const Z=i.oxw();return i.KtG(Z.sideNavEnd())}),i.TgZ(23,"mat-icon",22),i._uU(24,"menu"),i.qZA()()(),i.TgZ(25,"mat-toolbar",23)(26,"mat-toolbar-row",24)(27,"button",21),i.NdJ("click",function(){i.CHM(m);const Z=i.oxw();return i.KtG(Z.sideNavStart())}),i.TgZ(28,"mat-icon",25),i._uU(29,"menu"),i.qZA()(),i.YNc(30,z,2,1,"span",13),i._UZ(31,"img",12),i.qZA(),i.TgZ(32,"mat-toolbar-row")(33,"mat-form-field",26)(34,"mat-icon",15),i._uU(35,"search"),i.qZA(),i._UZ(36,"input",16),i.TgZ(37,"mat-autocomplete",null,17),i.YNc(39,et,2,2,"mat-option",18),i.ALo(40,"async"),i.qZA()()(),i.TgZ(41,"mat-toolbar-row",27)(42,"button",28),i._uU(43," Add Sale "),i.qZA(),i.TgZ(44,"button",29),i._uU(45," Add Purchase "),i.qZA()()()()}if(2&y){const m=i.MAs(10),p=i.oxw();i.xp6(3),i.Q6J("src",p.organization.image?p.baseURLImages+p.organization.image:"../../../../assets/images/logo.jpg",i.LSH),i.xp6(1),i.Q6J("ngIf",p.organization),i.xp6(4),i.Q6J("formControl",p.autocompleteControl)("matAutocomplete",m),i.xp6(3),i.Q6J("ngForOf",i.lcZ(12,10,p.filteredOptions$)),i.xp6(19),i.Q6J("ngIf",p.organization),i.xp6(1),i.Q6J("src",p.organization.image?p.baseURLImages+p.organization.image:"../../../../assets/images/logo.jpg",i.LSH),i.xp6(5),i.Q6J("formControl",p.autocompleteControl)("matAutocomplete",m),i.xp6(3),i.Q6J("ngForOf",i.lcZ(40,12,p.filteredOptions$))}}const at=function(){return{exact:!0}};let it=(()=>{class y{constructor(m,p,Z){this.router=m,this.authService=p,this.commonService=Z,this.value="",this.autocompleteControl=new c.NI(""),this.position="end",this.sideNavContent=!1,this.screenWidth=1,this.baseURLImages=T.$.api.baseUrl}ngOnInit(){this.getWindowSize(),this.getUserWithOrganization(),this.getFilterdOptionsFromSearch()}getFilterdOptionsFromSearch(){this.filteredOptions$=this.autocompleteControl.valueChanges.pipe((0,f.b)(500),(0,t.x)(),(0,u.w)(m=>this.commonService.getSearchItems(m).pipe((0,_.U)(p=>p.data))))}onOptionSelected(m){this.commonService.setSelectedProductItem(m),this.router.navigate(["/dashboard/in-stock/edit-item"]),this.autocompleteControl.setValue(""),this.getFilterdOptionsFromSearch()}onResize(){this.getWindowSize()}getWindowSize(){this.screenWidth=window.innerWidth,this.screenWidth<=768&&(this.sideNavContent=!1)}sideNavStart(){this.position="start",this.sideNavContent=!this.sideNavContent}sideNavEnd(){this.position="end",this.sideNavContent=!this.sideNavContent}getUserWithOrganization(){const m=this.authService.getLoggedInUserId();this.authService.getUserWithOrganizationById(m).subscribe({next:p=>{this.organization=p.organization},error:p=>{console.log(p)}})}createSale(){this.router.navigate(["/dashboard/sales/addsale"]),this.sideNavContent&&(this.sideNavContent=!1)}createPurchase(){this.router.navigate(["/dashboard/purchase/addPurchase"]),this.sideNavContent&&(this.sideNavContent=!1)}getNameAndId(m){return`${m.itemName} (${m.itemCode})`}static#t=this.\u0275fac=function(p){return new(p||y)(i.Y36(v.F0),i.Y36(L.e),i.Y36(q.v))};static#e=this.\u0275cmp=i.Xpm({type:y,selectors:[["app-top-dashboard"]],hostBindings:function(p,Z){1&p&&i.NdJ("resize",function(w){return Z.onResize(w)},!1,i.Jf7)},decls:20,vars:6,consts:[[4,"ngIf"],["mode","over",1,"sideNav",3,"position","opened","autoFocus"],["sidenav",""],[1,"nav"],["mat-list-item","","routerLink","/dashboard/credit-notes","routerLinkActive","selected-menu",3,"click"],["mat-list-item","","routerLink","/dashboard/customer-payments","routerLinkActive","selected-menu",3,"click"],["mat-list-item","","routerLink","/dashboard/estimations","routerLinkActive","selected-menu",3,"click"],["mat-list-item","","routerLink","/dashboard/suppliers","routerLinkActive","selected-menu",3,"click"],["mat-list-item","","routerLink","/dashboard/customers","routerLinkActive","selected-menu",3,"routerLinkActiveOptions","click"],["mat-list-item","","routerLink","/dashboard/customers/ledger","routerLinkActive","selected-menu",3,"click"],[1,"navbar-1","mat-elevation-z2"],["routerLink","/dashboard/home",1,"brand-logo"],["alt","Image",3,"src"],["class","brand-name",4,"ngIf"],["appearance","outline","subscriptSizing","dynamic",1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search Item",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"spacer"],["mat-stroked-button","","routerLinkActive","active",1,"primary-button",3,"click"],["mat-button","",1,"hambarg",3,"click"],[1,"m-0"],[1,"navbar-2","mat-elevation-z2"],[1,"row-1"],[1,"material-icons.md-36"],["appearance","outline","subscriptSizing","dynamic",1,"mobile-search"],[1,"row-3"],["mat-stroked-button","","routerLink","/dashboard/sales/addsale","routerLinkActive","active",1,"row-3-button","primary-button"],["mat-stroked-button","","routerLink","/dashboard/purchase/addPurchase","routerLinkActive","active",1,"row-3-button-2","primary-button"],[1,"brand-name"],[3,"value","onSelectionChange"]],template:function(p,Z){1&p&&(i.YNc(0,ot,46,14,"header",0),i.TgZ(1,"main")(2,"mat-sidenav-container")(3,"mat-sidenav",1,2)(5,"mat-nav-list",3)(6,"a",4),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(7," Credit Notes"),i.qZA(),i.TgZ(8,"a",5),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(9," Customer Payments"),i.qZA(),i.TgZ(10,"a",6),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(11," Estimation"),i.qZA(),i.TgZ(12,"a",7),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(13," Suppliers"),i.qZA(),i.TgZ(14,"a",8),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(15," Customers"),i.qZA(),i.TgZ(16,"a",9),i.NdJ("click",function(){return Z.sideNavContent=!1}),i._uU(17,"Customer Ledger"),i.qZA()()(),i.TgZ(18,"mat-sidenav-content"),i._UZ(19,"app-side-dashboard"),i.qZA()()()),2&p&&(i.Q6J("ngIf",Z.organization),i.xp6(3),i.Q6J("position",Z.position)("opened",Z.sideNavContent)("autoFocus",!1),i.xp6(11),i.Q6J("routerLinkActiveOptions",i.DdM(5,at)))},dependencies:[h.sg,h.O5,C.KE,C.qo,A.Nt,c.Fj,c.JJ,c.oH,g.lW,x.Ye,x.rD,P.Hw,S.JX,S.TM,S.Rh,V.ey,F.Hk,F.Tg,Q.XC,Q.ZL,v.rH,v.Od,J,h.Ov],styles:["header[_ngcontent-%COMP%]{background-color:#fff;position:fixed;top:0;width:100%;z-index:2}.search[_ngcontent-%COMP%]{padding-left:1rem;width:25%}main[_ngcontent-%COMP%]{margin-top:4rem}.sideNav[_ngcontent-%COMP%]{position:fixed;top:4rem;height:100%}img[_ngcontent-%COMP%]{height:45px;width:50px}mat-toolbar[_ngcontent-%COMP%]{gap:1rem;background-color:#fff}mat-toolbar[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding-left:.5rem}mat-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]   .hambarg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:xx-large}.navbar-2[_ngcontent-%COMP%]{display:none}.brand-name[_ngcontent-%COMP%]{color:#4985e5;font-weight:600}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.selected-menu[_ngcontent-%COMP%]{background-color:#d3d3d3}@media (max-width: 600px){mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}@media screen and (max-width: 768px){.navbar-1[_ngcontent-%COMP%]{display:none}.navbar-2[_ngcontent-%COMP%]{display:block}.navbar-2[_ngcontent-%COMP%]   mat-toolbar-row[_ngcontent-%COMP%]{height:55px}.row-1[_ngcontent-%COMP%]{padding:0}.row-1[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{color:#000;width:100%;text-align:center}.row-1[_ngcontent-%COMP%]   .hambarg[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;left:14px;min-width:0px}.row-1[_ngcontent-%COMP%]   .hambarg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.row-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;right:16px}.row-2[_ngcontent-%COMP%]{padding-top:0rem}.row-2[_ngcontent-%COMP%]   .search-2[_ngcontent-%COMP%]{width:100%;height:inherit}.row-3[_ngcontent-%COMP%]{padding:0rem 1rem}.row-3[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#4985e5;color:#fff}.row-3[_ngcontent-%COMP%]   .row-3-button-2[_ngcontent-%COMP%]{margin-left:1.5rem}.sideNav[_ngcontent-%COMP%]{top:10.3rem}main[_ngcontent-%COMP%]{margin-top:10.3rem}}.mobile-search[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 890px){mat-toolbar[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:10px;font-weight:500;margin-right:0;padding:0 .5rem}}"]})}return y})(),nt=(()=>{class y{static#t=this.\u0275fac=function(p){return new(p||y)};static#e=this.\u0275cmp=i.Xpm({type:y,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(p,Z){1&p&&i._UZ(0,"app-top-dashboard")},dependencies:[it]})}return y})();var rt=l(3298),ct=l(4383),st=l(8230);let lt=(()=>{class y{static#t=this.\u0275fac=function(p){return new(p||y)};static#e=this.\u0275mod=i.oAB({type:y});static#o=this.\u0275inj=i.cJS({imports:[h.ez,rt.f,ct.InStockModule,v.Bz.forChild([{path:"",component:nt,children:[{path:"home",loadChildren:()=>Promise.all([l.e(592),l.e(899)]).then(l.bind(l,7899)).then(m=>m.HomeModule)},{path:"in-stock",loadChildren:()=>Promise.resolve().then(l.bind(l,4383)).then(m=>m.InStockModule)},{path:"sales",loadChildren:()=>Promise.all([l.e(592),l.e(720)]).then(l.bind(l,2720)).then(m=>m.SalesModule)},{path:"purchase",loadChildren:()=>l.e(507).then(l.bind(l,507)).then(m=>m.PurchasesModule)},{path:"balance-sheet",loadChildren:()=>l.e(814).then(l.bind(l,8068)).then(m=>m.BalanceSheetModule)},{path:"credit-notes",loadChildren:()=>Promise.all([l.e(592),l.e(109)]).then(l.bind(l,6109)).then(m=>m.CreditNotesModule)},{path:"customer-payments",loadChildren:()=>Promise.all([l.e(592),l.e(638)]).then(l.bind(l,8638)).then(m=>m.CustomerPaymentsModule)},{path:"estimations",loadChildren:()=>Promise.all([l.e(592),l.e(8)]).then(l.bind(l,8008)).then(m=>m.EstimationModule)},{path:"suppliers",loadChildren:()=>l.e(298).then(l.bind(l,8298)).then(m=>m.SupplierModule)},{path:"customers",loadChildren:()=>l.e(648).then(l.bind(l,8648)).then(m=>m.CustomerModule)},{path:"**",redirectTo:"/dashboard/home"}]}]),st.m]})}return y})()},4383:(k,N,l)=>{l.r(N),l.d(N,{InStockModule:()=>Ze});var h=l(6814),v=l(1896),i=l(5861),c=l(6223),f=l(7700),t=l(5879),u=l(788),_=l(4173);let T=(()=>{class n{constructor(e){this.apiService=e,this.baseUrl="products/categories"}createItem(e,o,a,r){return this.apiService.httpPost(`/products/${o}/categories/${a}/categoryTypes/${r}/Items`,e)}getAllItems(e,o,a){return this.apiService.httpGet(`/products/${e}/categoryId/${o}/categoryTypes/${a}/Items`)}uploadFile(e,o){return this.apiService.httpPost(`${u.$.api.uploads}/${e}`,o)}getUnits(){return this.apiService.httpGet(u.$.api.units)}getSuppliers(){return this.apiService.httpGet("suppliers")}getProductItems(e,o,a){return this.apiService.httpPost("products/getProductItems",{productId:e,categoryId:o,categoryTypeId:a,page:1,pageSize:20,sortBy:"itemName",sortDir:"ASC"})}deleteProductItem(e){return this.apiService.httpDelete(`products/items/${e}`)}itemEdit(e,o,a,r,s,b,I,mt,K,E,dt,ut,gt){return this.apiService.httpPut(`/products/${e}/categories/${o}/categoryTypes/${a}/Items/${r}`,{itemId:r,description:s,salePrice:b,weight:I,availableQuantity:mt,itemCode:K,itemName:E,companyName:dt,supplierId:ut,image:gt})}addDamageItem(e){return this.apiService.httpPost(u.$.api.damageItems,e)}getDamageInvoice(e){return this.apiService.httpGet(`damages/invoice/${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(_.s))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L=l(9692),q=l(2939),C=l(9157),A=l(2032),g=l(5195),x=l(2296),P=l(617);function S(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Please enter damage quantity."),t.qZA())}function V(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Damage quantity must be 1 or more."),t.qZA())}function F(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Damage quantity is greater than available quantity."),t.qZA())}function Q(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Please enter reason."),t.qZA())}let tt=(()=>{class n{constructor(e,o,a,r,s,b){this.dialogRef=e,this.data=o,this.fb=a,this.service=r,this.authService=s,this.snackBar=b,this.damageForm=new c.cw({})}onNoClick(){this.dialogRef.close()}ngOnInit(){this.createDamageForm()}createDamageForm(){const{itemName:e,itemCode:o,availableQuantity:a}=this.data;this.damageForm=this.fb.group({itemName:[e,c.kI.required],itemCode:[o,c.kI.required],availableQuantity:[a,c.kI.required],damageQuantity:["",[c.kI.required,c.kI.min(1),c.kI.max(a)]],reason:["",c.kI.required]})}hasError(e,o){return this.damageForm.get(e)?.hasError(o)}onSubmit(){if(this.damageForm.valid){const e=this.authService.getLoggedInUserId(),{damageQuantity:o,reason:a}=this.damageForm.value;this.service.addDamageItem({itemId:this.data.itemId,quantity:o,reason:a,userId:e}).subscribe({next:()=>{this.dialogRef.close(!0)},error:s=>{console.log(s),this.snackBar.open("Failed to add Damage","close",{duration:5e3})}})}}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(f.so),t.Y36(f.WI),t.Y36(c.qu),t.Y36(T),t.Y36(L.e),t.Y36(q.ux))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-damage-dialog"]],decls:39,vars:5,consts:[[1,"dialog-card"],[3,"formGroup","ngSubmit"],[1,"dialog-header"],["mat-dialog-close",""],[1,"dialog-content"],[1,"row","pt-3"],[1,"col-12"],["matInput","","type","text","formControlName","itemName","readonly","true"],["matInput","","type","text","formControlName","itemCode","readonly","true"],["matInput","","type","number","formControlName","availableQuantity","readonly","true"],["appearance","outline",1,"col-12"],["matInput","","type","number","formControlName","damageQuantity","required",""],[4,"ngIf"],["matInput","","type","text","formControlName","reason","required",""],[1,"dialog-footer"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","","type","submit",1,"primary-button"]],template:function(o,a){1&o&&(t.TgZ(0,"mat-card",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"mat-card-header",2)(3,"mat-card-title"),t._uU(4,"Add Damage Products"),t.qZA(),t.TgZ(5,"button",3)(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Item Name"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Item Code"),t.qZA(),t._UZ(17,"input",8),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Available Quantity"),t.qZA(),t._UZ(21,"input",9),t.qZA(),t.TgZ(22,"mat-form-field",10)(23,"mat-label"),t._uU(24,"Damage Quantity"),t.qZA(),t._UZ(25,"input",11),t.YNc(26,S,2,0,"mat-error",12),t.YNc(27,V,2,0,"mat-error",12),t.YNc(28,F,2,0,"mat-error",12),t.qZA(),t.TgZ(29,"mat-form-field",10)(30,"mat-label"),t._uU(31,"Reason"),t.qZA(),t._UZ(32,"input",13),t.YNc(33,Q,2,0,"mat-error",12),t.qZA()()(),t.TgZ(34,"mat-card-actions",14)(35,"button",15),t.NdJ("click",function(){return a.onNoClick()}),t._uU(36,"No Thanks"),t.qZA(),t.TgZ(37,"button",16),t._uU(38," Save "),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",a.damageForm),t.xp6(25),t.Q6J("ngIf",a.hasError("damageQuantity","required")),t.xp6(1),t.Q6J("ngIf",a.hasError("damageQuantity","min")),t.xp6(1),t.Q6J("ngIf",a.hasError("damageQuantity","max")),t.xp6(5),t.Q6J("ngIf",a.hasError("reason","required")))},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw,f.ZT]})}return n})();var J=l(2893),D=l(3176),Y=l(8525),z=l(3680);function et(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Item Code is required."),t.qZA())}function ot(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Item Weight is required."),t.qZA())}function at(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Item Code is required."),t.qZA())}function it(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required Minimum 3 characters."),t.qZA())}function nt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Company Name is required."),t.qZA())}function rt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required Minimum 3 characters."),t.qZA())}function ct(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Description is required."),t.qZA())}function st(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.hij(" Max length ",null==(o=e.itemEditForm.get("description"))?null:o.value.length,"/50 characters ")}}function lt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Sale Price is required."),t.qZA())}function y(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Required Minimun 1"),t.qZA())}function M(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Available Quantity is required."),t.qZA())}function m(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",11)(1,"div")(2,"h2",12),t._uU(3,"Item Details"),t.qZA(),t.TgZ(4,"mat-grid-list",13)(5,"mat-grid-tile")(6,"mat-form-field",14)(7,"mat-label"),t._uU(8,"Item code"),t.qZA(),t._UZ(9,"input",15),t.YNc(10,et,2,0,"mat-error",7),t.qZA()(),t.TgZ(11,"mat-grid-tile")(12,"mat-form-field",14)(13,"mat-label"),t._uU(14,"Item Weight"),t.qZA(),t._UZ(15,"input",16),t.YNc(16,ot,2,0,"mat-error",7),t.qZA()(),t.TgZ(17,"mat-grid-tile")(18,"mat-form-field",14)(19,"mat-label"),t._uU(20,"Item name"),t.qZA(),t._UZ(21,"input",17),t.YNc(22,at,2,0,"mat-error",7),t.YNc(23,it,2,0,"mat-error",7),t.qZA()(),t.TgZ(24,"mat-grid-tile")(25,"mat-form-field",14)(26,"mat-label"),t._uU(27,"Company name"),t.qZA(),t._UZ(28,"input",18),t.YNc(29,nt,2,0,"mat-error",7),t.YNc(30,rt,2,0,"mat-error",7),t.qZA()(),t.TgZ(31,"mat-grid-tile")(32,"mat-form-field",14)(33,"mat-label"),t._uU(34,"Item description"),t.qZA(),t._UZ(35,"input",19),t.YNc(36,ct,2,0,"mat-error",7),t.YNc(37,st,2,1,"mat-error",7),t.qZA()()(),t.TgZ(38,"div",20)(39,"label",21),t._uU(40,"Item Image"),t.qZA(),t._UZ(41,"input",22),t.qZA()(),t.TgZ(42,"div")(43,"h2",12),t._uU(44,"Product Price Details"),t.qZA(),t.TgZ(45,"mat-grid-list",13)(46,"mat-grid-tile")(47,"mat-form-field",14)(48,"mat-label"),t._uU(49,"Sale Price"),t.qZA(),t.TgZ(50,"input",23),t.NdJ("focus",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.emptyValue(a))}),t.qZA(),t.YNc(51,lt,2,0,"mat-error",7),t.YNc(52,y,2,0,"mat-error",7),t.qZA()(),t.TgZ(53,"mat-grid-tile")(54,"mat-form-field",14)(55,"mat-label"),t._uU(56,"Availability Stock"),t.qZA(),t._UZ(57,"input",24),t.YNc(58,M,2,0,"mat-error",7),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("cols",e.mainCols),t.xp6(6),t.Q6J("ngIf",e.hasError("itemCode","required")),t.xp6(6),t.Q6J("ngIf",e.hasError("itemWeight","required")),t.xp6(6),t.Q6J("ngIf",e.hasError("itemName","required")),t.xp6(1),t.Q6J("ngIf",e.hasError("itemName","minlength")),t.xp6(6),t.Q6J("ngIf",e.hasError("companyName","required")),t.xp6(1),t.Q6J("ngIf",e.hasError("companyName","minlength")),t.xp6(6),t.Q6J("ngIf",e.hasError("description","required")),t.xp6(1),t.Q6J("ngIf",e.hasError("description","maxlength")),t.xp6(8),t.Q6J("cols",e.mainCols),t.xp6(6),t.Q6J("ngIf",e.hasError("salePrice","required")),t.xp6(1),t.Q6J("ngIf",e.hasError("salePrice","min")),t.xp6(6),t.Q6J("ngIf",e.hasError("availableQuantity","required"))}}function p(n,d){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=d.$implicit;t.Q6J("value",e.supplierId),t.xp6(1),t.Oqu(e.supplierName)}}function Z(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content")(1,"h2",12),t._uU(2,"Supplier Details"),t.qZA(),t.TgZ(3,"form",4)(4,"mat-grid-list",13)(5,"mat-grid-tile")(6,"mat-form-field",14)(7,"mat-label"),t._uU(8,"Supplier Name"),t.qZA(),t.TgZ(9,"mat-select",25),t.NdJ("selectionChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeSupplier())}),t.YNc(10,p,2,2,"mat-option",26),t.qZA()()(),t.TgZ(11,"mat-grid-tile")(12,"mat-form-field",14)(13,"mat-label"),t._uU(14,"Phone Number"),t.qZA(),t._UZ(15,"input",27),t.qZA()(),t.TgZ(16,"mat-grid-tile")(17,"mat-form-field",14)(18,"mat-label"),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",28),t.qZA()(),t.TgZ(21,"mat-grid-tile")(22,"mat-form-field",14)(23,"mat-label"),t._uU(24,"Contact Person"),t.qZA(),t._UZ(25,"input",29),t.qZA()(),t.TgZ(26,"mat-grid-tile")(27,"mat-form-field",14)(28,"mat-label"),t._uU(29,"GST Number"),t.qZA(),t._UZ(30,"input",30),t.qZA()(),t.TgZ(31,"mat-grid-tile")(32,"mat-form-field",14)(33,"mat-label"),t._uU(34,"Address"),t.qZA(),t._UZ(35,"input",31),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.supplierForm),t.xp6(1),t.Q6J("cols",e.supplierCols),t.xp6(6),t.Q6J("ngForOf",e.supplierData)}}let O=(()=>{class n{constructor(e,o,a,r,s,b){this.service=e,this.router=o,this.snackBar=a,this.dialog=r,this.fb=s,this.commonService=b,this.itemEditForm=new c.cw({}),this.supplierForm=new c.cw({}),this.screenWidth=1,this.mainCols=3,this.supplierCols=3,this.isValueNotChanged=!0,this.supplierData=[]}ngOnInit(){this.getWindowSize(),this.getItemDetails(),this.getSuppliers()}getItemDetails(){this.commonService.selectedProductItem$.subscribe({next:e=>{e?(this.itemDetails=e,this.createItemEditForm(),this.getSuppliers(),this.intialItemValues=this.itemEditForm.value):this.router.navigate(["/dashboard/in-stock/items"])}})}onResize(){this.getWindowSize()}getWindowSize(){window.innerWidth<=768?(this.mainCols=1,this.supplierCols=1):(this.mainCols=2,this.supplierCols=3)}hasError(e,o){return this.itemEditForm.get(e)?.hasError(o)}hasSupplierError(e,o){return this.supplierForm.get(e)?.hasError(o)}getSuppliers(){this.service.getSuppliers().subscribe({next:e=>{this.supplierData=e;const o=e.find(a=>a.supplierId===this.itemDetails?.supplierId);o&&(this.selectedSupplier=o,this.createSupplierForm(),this.intialSupplierValues=this.supplierForm.value)},error:console.error})}changeSupplier(){const e=this.supplierForm.get("supplierName")?.value;if(e){const o=this.supplierData.find(a=>a.supplierId===e);o&&(this.selectedSupplier=o,this.createSupplierForm())}}createItemEditForm(){this.itemEditForm=this.fb.group({itemCode:[this.itemDetails.itemCode,c.kI.required],itemWeight:[this.itemDetails.itemWeight,c.kI.required],itemName:[this.itemDetails.itemName,[c.kI.required,c.kI.minLength(3)]],companyName:[this.itemDetails.companyName,[c.kI.required,c.kI.minLength(3)]],description:[this.itemDetails.description,[c.kI.required,c.kI.maxLength(50)]],salePrice:[this.itemDetails.salePrice],availableQuantity:[this.itemDetails.availableQuantity,[c.kI.required]],image:[""]}),this.itemEditForm.valueChanges.subscribe(()=>{this.isValueNotChanged=this.isFormValuesEqual(this.intialItemValues,this.itemEditForm.value),this.itemEditForm.invalid&&this.itemEditForm.markAllAsTouched()})}createSupplierForm(){this.supplierForm=this.fb.group({supplierName:[this.selectedSupplier.supplierId],contactPerson:[{value:this.selectedSupplier.contactPerson,disabled:!0}],contactNumber:[{value:this.selectedSupplier.contactNumber,disabled:!0}],email:[{value:this.selectedSupplier.email,disabled:!0}],supplierGstNo:[{value:this.selectedSupplier.gstNo,disabled:!0}],address:[{value:this.selectedSupplier.contactNumber,disabled:!0}]}),this.supplierForm.valueChanges.subscribe(()=>{this.isValueNotChanged=this.isFormValuesEqual(this.intialSupplierValues,this.supplierForm.value)})}isFormValuesEqual(e,o){return JSON.stringify(e)===JSON.stringify(o)}openDamageDialog(){this.dialog.open(tt,{width:"500px",height:"600px",data:{itemId:this.itemDetails.itemId,itemName:this.itemDetails.itemName,itemCode:this.itemDetails.itemCode,availableQuantity:this.itemDetails.availableQuantity}}).afterClosed().subscribe(o=>{o&&this.router.navigate(["/dashboard/in-stock/items"])})}SaveChanges(){var e=this;return(0,i.Z)(function*(){if(!e.itemEditForm.valid)return;const{salePrice:o,description:a,weight:r,availableQuantity:s,itemCode:b,itemName:I,companyName:mt,image:K}=e.itemEditForm.value;let E=e.itemDetails.image;if(K&&K!==E){const ht=document.getElementById("itemImage").files?.[0];if(ht){const _t=new FormData;_t.append("image",ht,ht.name);const Ct=yield e.uploadFile("items",_t);e.itemEditForm.value.image=Ct,E=Ct}}const{productId:dt,categoryId:ut,categoryTypeId:gt,itemId:pt}=e.itemDetails;e.service.itemEdit(dt,ut,gt,pt,a,o??0,r,s,b,I,mt,e.selectedSupplier.supplierId,E).subscribe({next:()=>{e.snackBar.open("Successfully Saved Changes","Close",{duration:5e3}),e.router.navigate(["/dashboard/in-stock/items"])},error:X=>{e.snackBar.open("Error While Saving Changes","close",{duration:5e3}),console.log(X)}})})()}emptyValue(e){e.target.value<1&&(e.target.value="")}uploadFile(e,o){return new Promise((a,r)=>{this.service.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:()=>{r(!1)}})})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T),t.Y36(v.F0),t.Y36(q.ux),t.Y36(f.uw),t.Y36(c.qu),t.Y36(J.v))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-edit"]],hostBindings:function(o,a){1&o&&t.NdJ("resize",function(s){return a.onResize(s)},!1,t.Jf7)},decls:18,vars:6,consts:[[1,"header"],[1,"title"],["routerLink","/dashboard/in-stock/items",1,"back-key"],["mat-raised-button","",1,"primary-button",3,"click"],[3,"formGroup"],["class","container",4,"ngIf"],[1,"supplierDetails"],[4,"ngIf"],[1,"footer"],["mat-raised-button","","routerLink","/dashboard/in-stock/items"],["mat-raised-button","",1,"primary-button",3,"disabled","click"],[1,"container"],[1,"heading"],["rowHeight","90px","gutterSize","1rem",3,"cols"],["appearance","outline"],["type","text","matInput","","formControlName","itemCode"],["type","text","matInput","","formControlName","itemWeight"],["type","text","matInput","","formControlName","itemName"],["type","text","matInput","","formControlName","companyName"],["type","text","matInput","","formControlName","description"],[1,"mb-2"],["for","itemImage"],["type","file","id","itemImage","formControlName","image","accept","image/*",1,"file-input"],["type","number","matInput","","formControlName","salePrice",3,"focus"],["type","number","matInput","","formControlName","availableQuantity"],["formControlName","supplierName",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","contactNumber"],["type","text","matInput","","formControlName","email"],["type","text","matInput","","formControlName","contactPerson"],["type","text","matInput","","formControlName","supplierGstNo"],["type","text","matInput","","formControlName","address"],[3,"value"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"mat-icon",2),t._uU(3,"keyboard_backspace"),t.qZA(),t._uU(4," Edit Product "),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return a.openDamageDialog()}),t._uU(6," Add Damage Item "),t.qZA()(),t.TgZ(7,"form",4)(8,"mat-card"),t.YNc(9,m,59,13,"mat-card-content",5),t.qZA()(),t.TgZ(10,"div",6)(11,"mat-card"),t.YNc(12,Z,36,3,"mat-card-content",7),t.qZA()(),t.TgZ(13,"div",8)(14,"button",9),t._uU(15," Cancel "),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return a.SaveChanges()}),t._uU(17," Save "),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("formGroup",a.itemEditForm),t.xp6(2),t.Q6J("ngIf",a.itemDetails),t.xp6(3),t.Q6J("ngIf",a.selectedSupplier),t.xp6(4),t.ekj("secondary-button",a.isValueNotChanged||a.itemEditForm.invalid),t.Q6J("disabled",a.isValueNotChanged||a.itemEditForm.invalid))},dependencies:[h.sg,h.O5,v.rH,C.KE,C.hX,C.TO,A.Nt,D.Il,D.DX,g.a8,g.dn,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,x.lW,P.Hw,Y.gD,z.ey],styles:[".container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;width:100%}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}mat-label[_ngcontent-%COMP%]{color:#000}.wareHouses[_ngcontent-%COMP%]{margin-top:1rem}.supplierDetails[_ngcontent-%COMP%]{margin-top:2rem}mat-form-field[_ngcontent-%COMP%]{width:99%}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-right:1rem;margin-top:2rem}@media screen and (max-width: 880px) and (min-width: 769px){h2[_ngcontent-%COMP%]{font-size:18px}mat-label[_ngcontent-%COMP%]{font-size:13px;font-weight:400}mat-grid-tile[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}"]})}return n})();var w=l(1260);function yt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.productForm.get("description"))?null:o.value.length,"/50 characters ")}}let vt=(()=>{class n{constructor(e,o,a,r,s){this.productService=e,this.fb=o,this.snacBar=a,this.dialogRef=r,this.data=s,this.productForm=new c.cw({})}ngOnInit(){this.productForm=this.fb.group({productName:["",c.kI.required],productImage:[""],description:["",c.kI.maxLength(50)]})}uploadFile(e,o){return new Promise((a,r)=>{this.productService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:s=>{console.log(s),r(!1)}})})}closeDialog(){this.dialogRef.close()}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.productForm.valid){const o=new FormData,r=document.getElementById("productImage").files?.[0];if(r){o.append("image",r,r.name);const I=yield e.uploadFile("product",o);e.productForm.value.productImage=I}const s=e.productForm.get("productName")?.value,b=s.charAt(0).toUpperCase()+s.slice(1);b!==s&&e.productForm.get("productName")?.setValue(b),e.productService.createProduct(e.productForm.value).subscribe({next:()=>{e.snacBar.open("Added New Category Succesfully","Close",{duration:5e3})},error:I=>{e.snacBar.open(I.error.error,"Close",{duration:5e3})},complete:()=>{e.productForm.reset()}})}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(w.M),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-create"]],decls:29,vars:3,consts:[[1,"dialog-card"],[1,"dialog-header"],[3,"click"],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","productName","required",""],[1,"col-12"],["for","productImage"],["type","file","id","productImage","formControlName","productImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[4,"ngIf"],[1,"dialog-footer"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Create New Category"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Category Name"),t.qZA(),t._UZ(12,"input",6),t.TgZ(13,"mat-error"),t._uU(14,"Category Name is required"),t.qZA()(),t.TgZ(15,"div",7)(16,"label",8),t._uU(17,"Category Image"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",11),t.YNc(23,yt,2,1,"mat-error",12),t.qZA()()(),t.TgZ(24,"mat-card-actions",13)(25,"button",14),t.NdJ("click",function(){return a.closeDialog()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",15),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Create "),t.qZA()()()),2&o){let r;t.xp6(8),t.Q6J("formGroup",a.productForm),t.xp6(15),t.Q6J("ngIf",null==(r=a.productForm.get("description"))?null:r.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.productForm.valid)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw]})}return n})();function bt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.editproductForm.get("description"))?null:o.value.length,"/50 characters ")}}let Zt=(()=>{class n{constructor(e,o,a,r,s){this.productService=e,this.fb=o,this.snacBar=a,this.dialogRef=r,this.data=s,this.editproductForm=new c.cw({}),this.isValueNotChanged=!0}ngOnInit(){this.data&&(this.createEditForm(),this.initialFormValue=this.editproductForm.value)}createEditForm(){this.editproductForm=this.fb.group({productName:[this.data.productName,c.kI.required],productImage:[""],description:[this.data.description,c.kI.maxLength(50)]}),this.editproductForm.valueChanges.subscribe(()=>{this.isValueNotChanged=this.isFormValuesEqual(this.initialFormValue,this.editproductForm.value)})}isFormValuesEqual(e,o){return JSON.stringify(e)===JSON.stringify(o)}uploadFile(e,o){return new Promise((a,r)=>{this.productService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:s=>{console.log(s),r(!1)}})})}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.editproductForm.valid){const o=new FormData,r=document.getElementById("productImage").files?.[0];if(r){o.append("image",r,r.name);const s=yield e.uploadFile("product",o);e.editproductForm.value.productImage=s}else e.editproductForm.value.productImage=e.data.productImage;e.productService.updateProduct(e.data.productId,e.editproductForm.value).subscribe({next:()=>{e.snacBar.open("Updated Category Succesfully","Close",{duration:5e3})},error:s=>{e.snacBar.open(s.error.error,"Close",{duration:5e3})},complete:()=>{e.editproductForm.reset(),e.dialogRef.close(!0)}})}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(w.M),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-edit-dialog"]],decls:29,vars:3,consts:[[1,"dialog-card"],[1,"dialog-header"],["mat-dialog-close",""],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","productName","required",""],[1,"col-12"],["for","productImage"],["type","file","id","productImage","formControlName","productImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[4,"ngIf"],[1,"dialog-footer"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Update Category"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"Category Name"),t.qZA(),t._UZ(12,"input",6),t.TgZ(13,"mat-error"),t._uU(14,"Category Name is required"),t.qZA()(),t.TgZ(15,"div",7)(16,"label",8),t._uU(17,"Category Image"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",11),t.YNc(23,bt,2,1,"mat-error",12),t.qZA()()(),t.TgZ(24,"mat-card-actions",13)(25,"button",14),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",15),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Update "),t.qZA()()()),2&o){let r;t.xp6(8),t.Q6J("formGroup",a.editproductForm),t.xp6(15),t.Q6J("ngIf",null==(r=a.editproductForm.get("description"))?null:r.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.editproductForm.valid||a.isValueNotChanged)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw,f.ZT]})}return n})();var $=l(2983);let R=(()=>{class n{searchObject(e,o,a){const r=Array.isArray(a)?a:[a];return e.filter(b=>{for(const I of r)if(b[I]?.toLowerCase().includes(o.toLowerCase()))return!0;return!1})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var B=l(5619);let j=(()=>{class n{constructor(){this.selectedIdsSubject=new B.X([]),this.selectedIds$=this.selectedIdsSubject.asObservable(),this.productSubject=new B.X(null),this.product$=this.productSubject.asObservable(),this.categorySubject=new B.X(null),this.category$=this.categorySubject.asObservable(),this.categoryTypeSubject=new B.X(null),this.categoryType$=this.categoryTypeSubject.asObservable()}addIds(e,o){const a=this.selectedIdsSubject.getValue();let r=[];r=o?[...a,e,o]:[...a,e],this.selectedIdsSubject.next(r)}setProduct(e){sessionStorage.setItem("product",JSON.stringify(e)),this.productSubject.next(e)}getProduct(){const e=sessionStorage.getItem("product");return this.productSubject.getValue()||(e?JSON.parse(e):null)}setCategory(e){sessionStorage.setItem("category",JSON.stringify(e)),this.categorySubject.next(e)}getCategory(){const e=sessionStorage.getItem("category");return this.categorySubject.getValue()||(e?JSON.parse(e):null)}setCategoryType(e){sessionStorage.setItem("categoryType",JSON.stringify(e)),this.categoryTypeSubject.next(e)}getCategoryType(){const e=sessionStorage.getItem("categoryType");return this.categoryTypeSubject.getValue()||(e?JSON.parse(e):null)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var H=l(1274);function Tt(n,d){if(1&n&&(t.TgZ(0,"mat-card-actions")(1,"h2",2),t._uU(2),t.qZA(),t._UZ(3,"img",17),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.summaryDetails.items.totalItemsCount)}}function It(n,d){if(1&n&&(t.TgZ(0,"mat-grid-list",11)(1,"mat-grid-tile")(2,"mat-card")(3,"mat-card-header")(4,"h3",12),t._uU(5,"All Items"),t.qZA()(),t.YNc(6,Tt,4,1,"mat-card-actions",13),t.qZA()(),t.TgZ(7,"mat-grid-tile")(8,"mat-card")(9,"mat-card-header")(10,"h3",12),t._uU(11,"Low Stock Items"),t.qZA()(),t.TgZ(12,"mat-card-actions")(13,"h2",2),t._uU(14),t.qZA(),t._UZ(15,"img",14),t.qZA()()(),t.TgZ(16,"mat-grid-tile")(17,"mat-card")(18,"mat-card-header")(19,"h3",12),t._uU(20,"Out of Stock Items"),t.qZA()(),t.TgZ(21,"mat-card-actions")(22,"h2",2),t._uU(23),t.qZA(),t._UZ(24,"img",15),t.qZA()()(),t.TgZ(25,"mat-grid-tile")(26,"mat-card")(27,"mat-card-header")(28,"h3",12),t._uU(29,"On-hold-Products"),t.qZA()(),t.TgZ(30,"mat-card-actions")(31,"h2",2),t._uU(32,"0"),t.qZA(),t._UZ(33,"img",16),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("cols",e.headercols),t.xp6(6),t.Q6J("ngIf",e.summaryDetails),t.xp6(8),t.Oqu(e.summaryDetails.items.lowStockItemsCount),t.xp6(9),t.Oqu(e.summaryDetails.items.outOfStockItemsCount)}}function xt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clearSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function Pt(n,d){1&n&&(t.TgZ(0,"div",19),t._uU(1,"No Item Found"),t.qZA())}function Nt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card")(2,"img",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.goToProducts(r.productId,r.productName))}),t.qZA(),t.TgZ(3,"mat-card-actions")(4,"div")(5,"h3",21),t._uU(6),t.qZA(),t.TgZ(7,"p",22),t._uU(8),t.qZA()(),t.TgZ(9,"div",23)(10,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openEditProductDialog(r))}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()(),t.TgZ(13,"button",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openDeleteConfirmDialog(r.productId))}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA()()()()()()}if(2&n){const e=d.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",e.productImage?o.baseURLImages+e.productImage:"../../../../../../../assets/images/No_Image.jpg",t.LSH),t.xp6(4),t.Oqu(e.productName),t.xp6(2),t.hij("",e.categoryCount," Products")}}let At=(()=>{class n{constructor(e,o,a,r,s,b){this.productService=e,this.dialog=o,this.router=a,this.search=r,this.commonService=s,this.breadcrumbService=b,this.cols=4,this.headercols=4,this.value="",this.itemNotFound=!1,this.guttersize="1rem",this.getAllCategories=[],this.cardsData=[],this.baseURLImages="",this.rowHeight=""}ngOnInit(){this.getWindowSize(),this.getSummaryData(),this.getAllProducts()}onResize(){this.getWindowSize()}getSummaryData(){this.commonService.getSummaryData().subscribe({next:e=>{this.summaryDetails=e},error:e=>{console.log(e)}})}openDeleteConfirmDialog(e){this.dialog.open($.h,{width:"600px",data:{title:"Confirm to Delete",content:"Are you sure you want to delete ?"}}).afterClosed().subscribe(a=>{a&&this.deleteProduct(e)})}deleteProduct(e){this.productService.deleteProduct(e).subscribe({next:o=>{o&&this.getAllProducts()},error:o=>{console.log(o)}})}searchProduct(e){this.cardsData=""==e?this.getAllCategories:this.search.searchObject(this.getAllCategories,e,"productName"),this.itemNotFound=!this.cardsData.length}clearSearch(){this.value="",this.itemNotFound=!1,this.cardsData=this.getAllCategories}getWindowSize(){const e=window.innerWidth;e<=768?(this.cols=2,this.guttersize="1rem",this.headercols=2,this.rowHeight="1:1.3"):e>768&&e<1120?(this.cols=2,this.headercols=2,this.rowHeight="1:1.2"):(this.cols=4,this.headercols=4,this.guttersize="1rem",this.rowHeight="1:1.2")}createNewProduct(){this.dialog.open(vt,{disableClose:!0,width:"600px",height:"350px"}).afterClosed().subscribe(()=>{this.getAllProducts()})}openEditProductDialog(e){this.dialog.open(Zt,{disableClose:!0,width:"600px",height:"350px",data:e}).afterClosed().subscribe(()=>{this.getAllProducts()})}getAllProducts(){this.productService.getAllProducts().subscribe({next:e=>{this.baseURLImages=u.$.api.baseUrl,this.getAllCategories=e,this.cardsData=this.getAllCategories},error:e=>{console.log("error => ",e)}})}editProdut(e){const{productId:o,productName:a,productImage:r,unitId:s,description:b}=e;this.productService.updateProduct(o,{productImage:r,productName:a,unitId:s,description:b})}goToProducts(e,o){this.breadcrumbService.setProduct({id:e,name:o}),this.router.navigate(["/dashboard/in-stock/category"])}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(w.M),t.Y36(f.uw),t.Y36(v.F0),t.Y36(R),t.Y36(J.v),t.Y36(j))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],hostBindings:function(o,a){1&o&&t.NdJ("resize",function(s){return a.onResize(s)},!1,t.Jf7)},decls:16,vars:8,consts:[["rowHeight","150px","gutterSize","1rem","class","navBar",3,"cols",4,"ngIf"],[1,"primary-toolbar"],[1,"heading"],["mat-raised-button","","type","button",1,"primary-button","button-show",3,"click"],["appearance","outline",1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search Category Name",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["class","itemNotFound",4,"ngIf"],[1,"display-cards",3,"cols","rowHeight","gutterSize"],[4,"ngFor","ngForOf"],["rowHeight","150px","gutterSize","1rem",1,"navBar",3,"cols"],[1,"subHeading"],[4,"ngIf"],["src","../../../../../assets/svg/due.svg","alt","low stock items"],["src","../../../../../assets/svg/return.svg","alt","out of stock"],["src","../../../../../assets/svg/purchase.svg","alt","on hold products"],["src","../../../../../assets/svg/sale.svg","alt","all items"],["matSuffix","","mat-icon-button","",3,"click"],[1,"itemNotFound"],["alt","Category image",3,"src","click"],[1,"title"],[1,"subTitle"],[1,"edit-delete"],["type","button",1,"edit","me-1",3,"click"],["type","button",1,"delete",3,"click"]],template:function(o,a){1&o&&(t.YNc(0,It,34,4,"mat-grid-list",0),t.TgZ(1,"mat-toolbar",1)(2,"h2",2),t._uU(3,"Category List"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return a.createNewProduct()}),t.TgZ(5,"mat-icon"),t._uU(6,"add_circle"),t.qZA(),t._uU(7,"Add New Category "),t.qZA()(),t.TgZ(8,"mat-form-field",4)(9,"mat-icon",5),t._uU(10,"search"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(s){return a.value=s})("input",function(){return a.searchProduct(a.value)}),t.qZA(),t.YNc(12,xt,3,0,"button",7),t.qZA(),t.YNc(13,Pt,2,0,"div",8),t.TgZ(14,"mat-grid-list",9),t.YNc(15,Nt,16,3,"mat-grid-tile",10),t.qZA()),2&o&&(t.Q6J("ngIf",a.summaryDetails),t.xp6(11),t.Q6J("ngModel",a.value),t.xp6(1),t.Q6J("ngIf",""!==a.value),t.xp6(1),t.Q6J("ngIf",a.itemNotFound),t.xp6(1),t.Q6J("cols",a.cols)("rowHeight",a.rowHeight)("gutterSize",a.guttersize),t.xp6(1),t.Q6J("ngForOf",a.cardsData))},dependencies:[h.sg,h.O5,C.KE,C.qo,C.R9,A.Nt,D.Il,D.DX,g.a8,g.hq,g.dk,c.Fj,c.JJ,c.On,x.lW,x.RK,H.Ye,P.Hw],styles:[".navBar[_ngcontent-%COMP%]{background-color:#f6fafe;padding:1.5rem}.navBar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .navBar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-wrap:nowrap}.navBar[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{border-radius:1rem}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:1rem;width:100%;height:100%;background-color:#fff;box-shadow:2px 4px 24px #28293d0d}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-left:2rem}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0rem 2rem;justify-content:space-between}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:80px;padding-bottom:2rem}.navBar[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{height:100%;width:100%}.navBar[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.navBar[_ngcontent-%COMP%]   .catagory-image[_ngcontent-%COMP%]{height:100%;width:100%}mat-toolbar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%}mat-toolbar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#4985e5}@media screen and (max-width: 768px){.navBar[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-left:0rem!important}.navBar[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0rem!important;justify-content:space-between}.navBar[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding:16px 0 0}.navBar[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}.navBar[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0 1rem}.header[_ngcontent-%COMP%]{flex-direction:row}}"]})}return n})();var W=l(2529);function Ot(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.categoryForm.get("description"))?null:o.value.length,"/50 characters ")}}let qt=(()=>{class n{constructor(e,o,a,r,s){this.categoryService=e,this.fb=o,this.snackBar=a,this.dialogRef=r,this.productId=s,this.categoryForm=new c.cw({})}ngOnInit(){this.categoryForm=this.fb.group({categoryName:["",c.kI.required],categoryImage:[""],description:["",c.kI.maxLength(50)]})}uploadFile(e,o){return new Promise((a,r)=>{this.categoryService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:s=>{r(!1)}})})}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.categoryForm.valid){const o=new FormData,r=document.getElementById("categoryImage").files?.[0];if(r){o.append("image",r,r.name);const I=yield e.uploadFile("category",o);e.categoryForm.value.categoryImage=I}const s=e.categoryForm.get("categoryName")?.value,b=s.charAt(0).toUpperCase()+s.slice(1);b!==s&&e.categoryForm.get("categoryName")?.setValue(b),e.categoryService.createCategory(e.categoryForm.value,e.productId).subscribe({next:()=>{e.snackBar.open("Added New Product Successfully","Close",{duration:5e3})},error:()=>{e.snackBar.open("Error occurred while adding Product","Close",{duration:5e3})},complete:()=>{e.categoryForm.reset()}})}})()}closeDialog(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(W.H),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-create"]],decls:29,vars:3,consts:[[1,"dialog-card"],[1,"dialog-header"],[3,"click"],["aria-label","Close dialog"],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","categoryName","required",""],[1,"col-12"],["for","categoryImage"],["type","file","id","categoryImage","formControlName","categoryImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[4,"ngIf"],[1,"dialog-footer"],["mat-flat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Create New Product"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Product Name"),t.qZA(),t._UZ(12,"input",7),t.TgZ(13,"mat-error"),t._uU(14,"Product Name is required"),t.qZA()(),t.TgZ(15,"div",8)(16,"label",9),t._uU(17,"Product Image"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,Ot,2,1,"mat-error",13),t.qZA()()(),t.TgZ(24,"mat-card-actions",14)(25,"button",15),t.NdJ("click",function(){return a.closeDialog()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",16),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Create "),t.qZA()()()),2&o){let r;t.xp6(8),t.Q6J("formGroup",a.categoryForm),t.xp6(15),t.Q6J("ngIf",null==(r=a.categoryForm.get("description"))?null:r.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.categoryForm.valid)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw]})}return n})();function Ut(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.editCategoryForm.get("description"))?null:o.value.length,"/50 characters ")}}let Dt=(()=>{class n{constructor(e,o,a,r,s){this.categoryService=e,this.fb=o,this.snackBar=a,this.dialogRef=r,this.data=s,this.editCategoryForm=new c.cw({}),this.isValueNotChanged=!0}ngOnInit(){this.createEditCategoryForm(),this.initialFormValue=this.editCategoryForm.value}createEditCategoryForm(){this.editCategoryForm=this.fb.group({categoryName:[this.data.categoryName,c.kI.required],categoryImage:[""],description:[this.data.description,c.kI.maxLength(50)]}),this.editCategoryForm.valueChanges.subscribe(()=>{this.isValueNotChanged=this.isFormValuesEqual(this.initialFormValue,this.editCategoryForm.value)})}isFormValuesEqual(e,o){return JSON.stringify(e)===JSON.stringify(o)}uploadFile(e,o){return new Promise((a,r)=>{this.categoryService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:()=>{r(!1)}})})}closeDialog(e){this.dialogRef.close(e)}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.editCategoryForm.valid){const o=new FormData,r=document.getElementById("categoryImage").files?.[0];if(r){o.append("image",r,r.name);const s=yield e.uploadFile("category",o);e.editCategoryForm.value.categoryImage=s}else e.editCategoryForm.value.productImage=e.data.categoryImage;e.categoryService.updateProduct(e.data.categoryId,e.editCategoryForm.value).subscribe({next:()=>{e.snackBar.open("Updated Product Successfully","Close",{duration:5e3})},error:()=>{e.snackBar.open("Error occurred while updating Product","Close",{duration:5e3})},complete:()=>{e.editCategoryForm.reset(),e.dialogRef.close(!0)}})}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(W.H),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories-edit-dialog"]],decls:29,vars:3,consts:[[1,"dialog-card"],[1,"dialog-header"],["mat-dialog-close",""],["aria-label","Close dialog"],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","categoryName","required",""],[1,"col-12"],["for","categoryImage"],["type","file","id","categoryImage","formControlName","categoryImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[4,"ngIf"],[1,"dialog-footer"],["mat-flat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Update Product"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Product Name"),t.qZA(),t._UZ(12,"input",7),t.TgZ(13,"mat-error"),t._uU(14,"Product Name is required"),t.qZA()(),t.TgZ(15,"div",8)(16,"label",9),t._uU(17,"Product Image"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,Ut,2,1,"mat-error",13),t.qZA()()(),t.TgZ(24,"mat-card-actions",14)(25,"button",15),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",16),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Update "),t.qZA()()()),2&o){let r;t.xp6(8),t.Q6J("formGroup",a.editCategoryForm),t.xp6(15),t.Q6J("ngIf",null==(r=a.editCategoryForm.get("description"))?null:r.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.editCategoryForm.valid||a.isValueNotChanged)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw,f.ZT]})}return n})();function Mt(n,d){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"close"),t.qZA())}function wt(n,d){1&n&&(t.TgZ(0,"div",13),t._uU(1,"Item Not Found"),t.qZA())}function St(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card")(2,"img",14),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openQuality(r.categoryId,r.categoryName))}),t.qZA(),t.TgZ(3,"mat-card-actions")(4,"div")(5,"h3",15),t._uU(6),t.qZA(),t.TgZ(7,"p",16),t._uU(8),t.qZA()(),t.TgZ(9,"div")(10,"button",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openEditCategoryDialog(r))}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()(),t.TgZ(13,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openDeleteConfirmDialog(r.categoryId))}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA()()()()()()}if(2&n){const e=d.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",e.categoryImage?o.baseURLImages+e.categoryImage:"../../../../../assets/images/No_Image.jpg",t.LSH),t.xp6(4),t.Oqu(e.categoryName),t.xp6(2),t.hij("",e.categoryTypesCount," qualitys")}}let Ft=(()=>{class n{constructor(e,o,a,r,s){this.router=e,this.dialog=o,this.categoryService=a,this.breadcrumb=r,this.searchService=s,this.value="",this.cols=4,this.guttersize="1rem",this.items=new Array(10).fill(0),this.productId="",this.productName="",this.getAllProdutsData=[],this.cardsData=[],this.baseURLImages=u.$.api.baseUrl,this.itemNotFound=!1,this.rowHeight=""}ngOnInit(){this.getWindowSize(),this.getProductData(),this.getAllProducts()}onResize(){this.getWindowSize()}getWindowSize(){const e=window.innerWidth;e<=768?(this.cols=2,this.guttersize="1rem",this.rowHeight="1:1.3"):e>768&&e<1120?(this.cols=2,this.rowHeight="1:1.2"):(this.cols=4,this.guttersize="1rem",this.rowHeight="1:1.2")}searchProduct(e){this.cardsData=""==e?this.getAllProdutsData:this.searchService.searchObject(this.getAllProdutsData,e,"categoryName"),this.itemNotFound=!this.cardsData.length}clearSearch(){this.value="",this.itemNotFound=!1,this.cardsData=this.getAllProdutsData}openQuality(e,o){this.breadcrumb.setCategory({id:e,name:o}),this.router.navigate(["/dashboard/in-stock/quality"])}createNewCategory(){this.dialog.open(qt,{disableClose:!0,width:"600px",height:"350px",data:this.productId}).afterClosed().subscribe(o=>{o&&this.getAllProducts()})}getProductData(){const e=this.breadcrumb.getProduct();e?(this.productId=e.id,this.productName=e.name):this.router.navigate(["/dashboard/in-stock"])}getAllProducts(){this.categoryService.getAllCategories(this.productId).subscribe({next:e=>{this.getAllProdutsData=e,this.cardsData=e},error:e=>{console.log("error => ",e)}})}openEditCategoryDialog(e){this.dialog.open(Dt,{disableClose:!0,width:"600px",height:"350px",data:e}).afterClosed().subscribe(a=>{a&&this.getAllProducts()})}openDeleteConfirmDialog(e){this.dialog.open($.h,{width:"600px",data:{title:"Confirm to Delete",content:"Are you sure you want to delete ?"}}).afterClosed().subscribe(a=>{a&&this.deleteCategory(e)})}deleteCategory(e){this.categoryService.deleteCategory(e).subscribe({next:o=>{o&&this.getAllProducts()},error:o=>{console.log(o)}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(v.F0),t.Y36(f.uw),t.Y36(W.H),t.Y36(j),t.Y36(R))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-list"]],hostBindings:function(o,a){1&o&&t.NdJ("resize",function(s){return a.onResize(s)},!1,t.Jf7)},decls:23,vars:8,consts:[[1,"primary-toolbar"],[1,"heading"],[1,"bredcrumb"],["routerLink","/dashboard/in-stock"],["mat-raised-button","",1,"primary-button",3,"click"],["appearance","outline",1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search Product Name",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","",3,"click"],[4,"ngIf"],["class","itenNotFound",4,"ngIf"],[1,"display-cards",3,"cols","rowHeight","gutterSize"],[4,"ngFor","ngForOf"],[1,"itenNotFound"],["alt","category-img",3,"src","click"],[1,"title"],[1,"subTitle"],["type","button",1,"edit","me-1",3,"click"],["type","button",1,"delete",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"div")(2,"h2",1),t._uU(3,"Products List"),t.qZA(),t.TgZ(4,"div",2)(5,"a",3),t._uU(6),t.qZA(),t._uU(7," > "),t.TgZ(8,"a"),t._uU(9,"Products List"),t.qZA()()(),t.TgZ(10,"button",4),t.NdJ("click",function(){return a.createNewCategory()}),t.TgZ(11,"mat-icon"),t._uU(12,"add_circle"),t.qZA(),t._uU(13,"Add New Product "),t.qZA()(),t.TgZ(14,"mat-form-field",5)(15,"mat-icon",6),t._uU(16,"search"),t.qZA(),t.TgZ(17,"input",7),t.NdJ("ngModelChange",function(s){return a.value=s})("input",function(){return a.searchProduct(a.value)}),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return a.clearSearch()}),t.YNc(19,Mt,2,0,"mat-icon",9),t.qZA()(),t.YNc(20,wt,2,0,"div",10),t.TgZ(21,"mat-grid-list",11),t.YNc(22,St,16,3,"mat-grid-tile",12),t.qZA()),2&o&&(t.xp6(6),t.Oqu(a.productName),t.xp6(11),t.Q6J("ngModel",a.value),t.xp6(2),t.Q6J("ngIf",""!==a.value),t.xp6(1),t.Q6J("ngIf",a.itemNotFound),t.xp6(1),t.Q6J("cols",a.cols)("rowHeight",a.rowHeight)("gutterSize",a.guttersize),t.xp6(1),t.Q6J("ngForOf",a.cardsData))},dependencies:[h.sg,h.O5,v.rH,C.KE,C.qo,C.R9,A.Nt,D.Il,D.DX,g.a8,g.hq,c.Fj,c.JJ,c.On,x.lW,x.RK,H.Ye,P.Hw]})}return n})();var G=l(1264);function kt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Quality Name is required"),t.qZA())}function Jt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.qualityForm.get("categoryTypeName"))?null:o.value.length,"/10 characters ")}}function Et(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.qualityForm.get("description"))?null:o.value.length,"/50 characters ")}}let Lt=(()=>{class n{constructor(e,o,a,r,s){this.categorytypeService=e,this.fb=o,this.snackBar=a,this.dialogRef=r,this.data=s,this.categoryId="",this.qualityForm=new c.cw({})}ngOnInit(){this.categoryId=this.data,this.qualityForm=this.fb.group({categoryTypeName:["",[c.kI.required,c.kI.maxLength(10)]],categoryTypeImage:[""],description:["",c.kI.maxLength(50)],categoryId:this.categoryId})}uploadFile(e,o){return new Promise((a,r)=>{this.categorytypeService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:s=>{r(!1)}})})}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.qualityForm.valid){const o=new FormData,r=document.getElementById("categoryTypeImage").files?.[0];if(r){o.append("image",r,r.name);const I=yield e.uploadFile("categoryType",o);e.qualityForm.value.categoryTypeImage=I}e.qualityForm.value.categoryId=e.categoryId;const s=e.qualityForm.get("categoryTypeName")?.value,b=s.charAt(0).toUpperCase()+s.slice(1);b!==s&&e.qualityForm.get("categoryTypeName")?.setValue(b),e.categorytypeService.createQuality(e.qualityForm.value,e.categoryId).subscribe({next:()=>{e.snackBar.open("Added New Quality Successfully","Close",{duration:5e3})},error:I=>{e.snackBar.open(I.error.error[0],"Close",{duration:5e3})},complete:()=>{e.qualityForm.reset()}})}})()}closeDialog(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(G._),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-type-create"]],decls:29,vars:5,consts:[[1,"dialog-card"],[1,"dialog-header"],[3,"click"],["aria-label","Close dialog"],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","categoryTypeName","required",""],[4,"ngIf"],[1,"col-12"],["for","categoryTypeImage"],["type","file","id","categoryTypeImage","formControlName","categoryTypeImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[1,"dialog-footer"],["mat-flat-button","",3,"click"],["mat-raised-button","",1,"primary-button",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Create New Quality"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Quality Name"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,kt,2,0,"mat-error",8),t.YNc(14,Jt,2,1,"mat-error",8),t.qZA(),t.TgZ(15,"div",9)(16,"label",10),t._uU(17,"Quality Image"),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",13),t.YNc(23,Et,2,1,"mat-error",8),t.qZA()()(),t.TgZ(24,"mat-card-actions",14)(25,"button",15),t.NdJ("click",function(){return a.closeDialog()}),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",16),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Create "),t.qZA()()()),2&o){let r,s,b;t.xp6(8),t.Q6J("formGroup",a.qualityForm),t.xp6(5),t.Q6J("ngIf",null==(r=a.qualityForm.get("categoryTypeName"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(s=a.qualityForm.get("categoryTypeName"))?null:s.hasError("maxlength")),t.xp6(9),t.Q6J("ngIf",null==(b=a.qualityForm.get("description"))?null:b.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.qualityForm.valid)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw],styles:["mat-card-header[_ngcontent-%COMP%]{background-color:#4985e5}.card-heading[_ngcontent-%COMP%]{font-weight:700;color:#fff}mat-card-content[_ngcontent-%COMP%]{padding:1rem;min-height:25.9rem}mat-icon[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function Qt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Quality Name is required"),t.qZA())}function Yt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.qualityForm.get("categoryTypeName"))?null:o.value.length,"/10 characters ")}}function zt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.qualityForm.get("description"))?null:o.value.length,"/50 characters ")}}let $t=(()=>{class n{constructor(e,o,a,r,s){this.categorytypeService=e,this.fb=o,this.snackBar=a,this.dialogRef=r,this.data=s,this.qualityForm=new c.cw({}),this.isValueNotChanged=!0}ngOnInit(){this.createQualityForm(),this.initialFormValue=this.qualityForm.value}createQualityForm(){this.qualityForm=this.fb.group({categoryTypeName:[this.data.categoryTypeName,[c.kI.required,c.kI.maxLength(10)]],categoryTypeImage:[],description:[this.data.description,c.kI.maxLength(50)],categoryId:this.data.categoryId}),this.qualityForm.valueChanges.subscribe(()=>{this.isValueNotChanged=this.isFormValuesEqual(this.initialFormValue,this.qualityForm.value)})}isFormValuesEqual(e,o){return JSON.stringify(e)===JSON.stringify(o)}uploadFile(e,o){return new Promise((a,r)=>{this.categorytypeService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:()=>{r(!1)}})})}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.qualityForm.valid){const o=new FormData,r=document.getElementById("categoryTypeImage").files?.[0];if(r){o.append("image",r,r.name);const s=yield e.uploadFile("categoryType",o);e.qualityForm.value.categoryTypeImage=s}else e.qualityForm.value.productImage=e.data.categoryTypeImage;e.categorytypeService.editQuality(e.qualityForm.value,e.data.categoryTypeId).subscribe({next:()=>{e.snackBar.open("Updated Quality Successfully","Close",{duration:5e3})},error:()=>{e.snackBar.open("Error occurred while updating quality","Close",{duration:5e3})},complete:()=>{e.qualityForm.reset(),e.dialogRef.close(!0)}})}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(G._),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-type-edit-dialog"]],decls:29,vars:5,consts:[[1,"dialog-card"],[1,"dialog-header"],["mat-dialog-close",""],["aria-label","Close dialog"],[1,"dialog-content"],[1,"row","pt-3",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","text","formControlName","categoryTypeName","required",""],[4,"ngIf"],[1,"col-12"],["for","categoryTypeImage"],["type","file","id","categoryTypeImage","formControlName","categoryTypeImage","accept","image/*",1,"file-input"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","description"],[1,"dialog-footer"],["mat-flat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Update Quality"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Quality Name"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,Qt,2,0,"mat-error",8),t.YNc(14,Yt,2,1,"mat-error",8),t.qZA(),t.TgZ(15,"div",9)(16,"label",10),t._uU(17,"Quality Image"),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",13),t.YNc(23,zt,2,1,"mat-error",8),t.qZA()()(),t.TgZ(24,"mat-card-actions",14)(25,"button",15),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",16),t.NdJ("click",function(){return a.onCreate()}),t._uU(28," Update "),t.qZA()()()),2&o){let r,s,b;t.xp6(8),t.Q6J("formGroup",a.qualityForm),t.xp6(5),t.Q6J("ngIf",null==(r=a.qualityForm.get("categoryTypeName"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(s=a.qualityForm.get("categoryTypeName"))?null:s.hasError("maxlength")),t.xp6(9),t.Q6J("ngIf",null==(b=a.qualityForm.get("description"))?null:b.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.qualityForm.valid||a.isValueNotChanged)}},dependencies:[h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw,f.ZT]})}return n})();function Rt(n,d){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"close"),t.qZA())}function Bt(n,d){1&n&&(t.TgZ(0,"div",14),t._uU(1,"Item Not Found"),t.qZA())}function jt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-tile")(1,"mat-card")(2,"img",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.gotoItems(r.categoryTypeId,r.categoryTypeName))}),t.qZA(),t.TgZ(3,"mat-card-actions")(4,"div")(5,"h3",16),t._uU(6),t.qZA(),t.TgZ(7,"p",17),t._uU(8),t.qZA()(),t.TgZ(9,"div")(10,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openEditQuality(r))}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()(),t.TgZ(13,"button",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openDeleteConfirmDialog(r.categoryTypeId))}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA()()()()()()}if(2&n){const e=d.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",e.categoryTypeImage?o.baseURLImages+e.categoryTypeImage:"../../../../../assets/images/No_Image.jpg",t.LSH),t.xp6(4),t.Oqu(e.categoryTypeName),t.xp6(2),t.hij("",e.itemsCount," items")}}let Ht=(()=>{class n{constructor(e,o,a,r,s,b){this.dialog=e,this.router=o,this.route=a,this.categoryTypeService=r,this.searchService=s,this.breadCrumb=b,this.value="",this.guttersize="1rem",this.cols=4,this.items=new Array(10).fill(0),this.categoryId="",this.productId="",this.categoryTypeId="",this.allCategoryTypesData=[],this.baseURLImages=u.$.api.baseUrl,this.categoryName="",this.productName="",this.cardsData=[],this.itemNotFound=!1,this.rowHeight=""}ngOnInit(){this.getWindowSize(),this.getProductAndCategoryData(),this.getCategoryTypeData()}onResize(){this.getWindowSize()}getProductAndCategoryData(){const e=this.breadCrumb.getProduct(),o=this.breadCrumb.getCategory();e&&o?(this.productId=e.id,this.categoryId=o.id,this.categoryName=o.name,this.productName=e.name):this.router.navigate(["/dashboard/in-stock"])}getWindowSize(){const e=window.innerWidth;e<=768?(this.cols=2,this.guttersize="1rem",this.rowHeight="1:1.3"):e>768&&e<1120?(this.cols=2,this.rowHeight="1:1.2"):(this.cols=4,this.guttersize="1rem",this.rowHeight="1:1.2")}searchProduct(e){this.cardsData=""==e?this.allCategoryTypesData:this.searchService.searchObject(this.allCategoryTypesData,e,"categoryTypeName"),this.itemNotFound=!this.cardsData.length}clearSearch(){this.value="",this.itemNotFound=!1,this.cardsData=this.allCategoryTypesData}createNewProduct(){this.dialog.open(Lt,{disableClose:!0,width:"600px",height:"350px",data:this.categoryId}).afterClosed().subscribe(o=>{o&&this.getCategoryTypeData()})}openEditQuality(e){this.dialog.open($t,{disableClose:!0,width:"600px",height:"350px",data:e}).afterClosed().subscribe(a=>{a&&this.getCategoryTypeData()})}openDeleteConfirmDialog(e){this.dialog.open($.h,{width:"600px",data:{title:"Confirm to Delete",content:"Are you sure you want to delete ?"}}).afterClosed().subscribe(a=>{a&&this.deleteQuality(e)})}deleteQuality(e){this.categoryTypeService.deleteQuality(e).subscribe(o=>{o&&this.getCategoryTypeData()})}getCategoryTypeData(){this.categoryTypeService.getAllQuality(this.categoryId).subscribe({next:e=>{this.allCategoryTypesData=e,this.cardsData=e},error:e=>{console.log(e)}})}gotoItems(e,o){this.breadCrumb.setCategoryType({id:e,name:o}),this.router.navigate(["/dashboard/in-stock/items"])}navigateToCategoryList(){this.router.navigate(["/dashboard/in-stock/category"])}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(f.uw),t.Y36(v.F0),t.Y36(v.gz),t.Y36(G._),t.Y36(R),t.Y36(j))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-type-list"]],hostBindings:function(o,a){1&o&&t.NdJ("resize",function(s){return a.onResize(s)},!1,t.Jf7)},decls:26,vars:9,consts:[[1,"primary-toolbar"],[1,"heading"],[1,"bredcrumb"],["routerLink","/dashboard/in-stock"],[3,"click"],["mat-raised-button","",1,"primary-button",3,"click"],["appearance","outline",1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search Quality Name",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","",3,"click"],[4,"ngIf"],["class","itemNotFound",4,"ngIf"],[1,"display-cards",3,"cols","rowHeight","gutterSize"],[4,"ngFor","ngForOf"],[1,"itemNotFound"],["alt","Category image",3,"src","click"],[1,"title"],[1,"subTitle"],["type","button",1,"edit","me-1",3,"click"],["type","button",1,"delete",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"div")(2,"h2",1),t._uU(3,"Quality List"),t.qZA(),t.TgZ(4,"div",2)(5,"a",3),t._uU(6),t.qZA(),t._uU(7," > "),t.TgZ(8,"a",4),t.NdJ("click",function(){return a.navigateToCategoryList()}),t._uU(9),t.qZA(),t._uU(10," > "),t.TgZ(11,"a"),t._uU(12,"Quality List"),t.qZA()()(),t.TgZ(13,"button",5),t.NdJ("click",function(){return a.createNewProduct()}),t.TgZ(14,"mat-icon"),t._uU(15,"add_circle"),t.qZA(),t._uU(16," New Quality "),t.qZA()(),t.TgZ(17,"mat-form-field",6)(18,"mat-icon",7),t._uU(19,"search"),t.qZA(),t.TgZ(20,"input",8),t.NdJ("ngModelChange",function(s){return a.value=s})("input",function(){return a.searchProduct(a.value)}),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return a.clearSearch()}),t.YNc(22,Rt,2,0,"mat-icon",10),t.qZA()(),t.YNc(23,Bt,2,0,"div",11),t.TgZ(24,"mat-grid-list",12),t.YNc(25,jt,16,3,"mat-grid-tile",13),t.qZA()),2&o&&(t.xp6(6),t.Oqu(a.productName),t.xp6(3),t.Oqu(a.categoryName),t.xp6(11),t.Q6J("ngModel",a.value),t.xp6(2),t.Q6J("ngIf",""!==a.value),t.xp6(1),t.Q6J("ngIf",a.itemNotFound),t.xp6(1),t.Q6J("cols",a.cols)("rowHeight",a.rowHeight)("gutterSize",a.guttersize),t.xp6(1),t.Q6J("ngForOf",a.cardsData))},dependencies:[h.sg,h.O5,v.rH,C.KE,C.qo,C.R9,A.Nt,D.Il,D.DX,g.a8,g.hq,c.Fj,c.JJ,c.On,x.lW,x.RK,H.Ye,P.Hw]})}return n})();var U=l(5313),ft=l(3365);const Wt=["scrollContainer"];function Gt(n,d){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=d.$implicit;t.Q6J("value",e.unitId),t.xp6(1),t.Oqu(e.unitName)}}function Kt(n,d){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=d.$implicit;t.Q6J("value",e.supplierId),t.xp6(1),t.Oqu(e.supplierName)}}function Xt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"description required"),t.qZA())}function Vt(n,d){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.hij(" Max length ",null==(o=e.itemForm.get("description"))?null:o.value.length,"/50 characters ")}}let te=(()=>{class n{constructor(e,o,a,r,s){this.itemService=e,this.fb=o,this.snackBar=a,this.dialogRef=r,this.data=s,this.itemForm=new c.cw({}),this.categoryId="",this.productId="",this.categoryTypeId="",this.unitsData=[],this.suppliers=[]}ngOnInit(){this.productId=this.data.productId,this.categoryId=this.data.categoryId,this.categoryTypeId=this.data.categoryTypeId,this.createItemForm(),this.getUnits(),this.getSuppliers()}scrollToTop(){this.scrollContainer.nativeElement.scrollTop=0}createItemForm(){this.itemForm=this.fb.group({itemName:["",c.kI.required],image:[""],rate:[0],totalQuantity:[0],unitId:["",c.kI.required],companyName:["",c.kI.required],itemCode:["",c.kI.required],availableQuantity:[0],supplierId:["",c.kI.required],categoryId:this.productId,productId:this.categoryId,categoryTypeId:this.categoryTypeId,discount:[0],purchasePrice:[0],salePrice:[0],description:["",[c.kI.required,c.kI.maxLength(50)]],itemWeight:["",c.kI.required]})}getUnits(){this.itemService.getUnits().subscribe(e=>{this.unitsData=e})}getSuppliers(){this.itemService.getSuppliers().subscribe(e=>{this.suppliers=e})}uploadFile(e,o){return new Promise((a,r)=>{this.itemService.uploadFile(e,o).subscribe({next:s=>{a(s.filePath)},error:()=>{r(!1)}})})}onCreate(){var e=this;return(0,i.Z)(function*(){if(e.itemForm.valid){const o=new FormData,r=document.getElementById("itemImage").files?.[0];if(r){o.append("image",r,r.name);const I=yield e.uploadFile("items",o);e.itemForm.value.image=I}const s=e.itemForm.get("itemName")?.value,b=s.charAt(0).toUpperCase()+s.slice(1);b!==s&&e.itemForm.get("itemName")?.setValue(b),e.itemService.createItem(e.itemForm.value,e.productId,e.categoryId,e.categoryTypeId).subscribe({next:()=>{e.snackBar.open("Added New Item Successfully","Close",{duration:5e3})},error:I=>{e.snackBar.open(I.error.errors.message,"Close",{duration:5e3})},complete:()=>{e.itemForm.reset(),e.createItemForm(),e.scrollToTop()}})}})()}hasError(e,o){return this.itemForm.get(e)?.hasError(o)}closeDialog(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T),t.Y36(c.qu),t.Y36(q.ux),t.Y36(f.so),t.Y36(f.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-create"]],viewQuery:function(o,a){if(1&o&&t.Gf(Wt,5),2&o){let r;t.iGM(r=t.CRH())&&(a.scrollContainer=r.first)}},decls:59,vars:6,consts:[[1,"dialog-card"],[1,"dialog-header"],[3,"click"],[1,"scroll-container"],["scrollContainer",""],[1,"row","pt-3",3,"formGroup"],["appearance","outline",1,"col-12"],["matInput","","type","text","formControlName","itemName","required",""],["matInput","","type","text","formControlName","companyName","required",""],["matInput","","type","text","formControlName","itemCode","required",""],["formControlName","unitId"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","subscriptSizing","dynamic",1,"col-12"],["matInput","","type","number","formControlName","itemWeight","required",""],[1,"col-12"],["for","itemImage"],["type","file","id","itemImage","formControlName","image","accept","image/*",1,"file-input"],["formControlName","supplierId"],["matInput","","type","text","formControlName","description","required",""],[4,"ngIf"],["mat-button","",1,"me-2",3,"click"],["mat-raised-button","",1,"primary-button",3,"disabled","click"],[3,"value"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Create New Item"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",3,4)(9,"form",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Item Name"),t.qZA(),t._UZ(13,"input",7),t.TgZ(14,"mat-error"),t._uU(15,"item Name is required"),t.qZA()(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"Company Name"),t.qZA(),t._UZ(19,"input",8),t.TgZ(20,"mat-error"),t._uU(21,"Company Name is required"),t.qZA()(),t.TgZ(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Item code"),t.qZA(),t._UZ(25,"input",9),t.TgZ(26,"mat-error"),t._uU(27,"Item code is required"),t.qZA()(),t.TgZ(28,"mat-form-field",6)(29,"mat-label"),t._uU(30,"Unit"),t.qZA(),t.TgZ(31,"mat-select",10),t.YNc(32,Gt,2,2,"mat-option",11),t.qZA()(),t.TgZ(33,"mat-form-field",12)(34,"mat-label"),t._uU(35,"Item Weight(Kg)"),t.qZA(),t._UZ(36,"input",13),t.TgZ(37,"mat-error"),t._uU(38,"Item weight is required"),t.qZA()(),t.TgZ(39,"div",14)(40,"label",15),t._uU(41,"Item Image"),t.qZA(),t._UZ(42,"input",16),t.qZA(),t.TgZ(43,"mat-form-field",6)(44,"mat-label"),t._uU(45,"Supplier Name"),t.qZA(),t.TgZ(46,"mat-select",17),t.YNc(47,Kt,2,2,"mat-option",11),t.qZA()(),t.TgZ(48,"mat-form-field",6)(49,"mat-label"),t._uU(50,"Description"),t.qZA(),t._UZ(51,"input",18),t.YNc(52,Xt,2,0,"mat-error",19),t.YNc(53,Vt,2,1,"mat-error",19),t.qZA()()(),t.TgZ(54,"mat-card-actions")(55,"button",20),t.NdJ("click",function(){return a.closeDialog()}),t._uU(56,"Cancel"),t.qZA(),t.TgZ(57,"button",21),t.NdJ("click",function(){return a.onCreate()}),t._uU(58," Create "),t.qZA()()()),2&o){let r,s;t.xp6(9),t.Q6J("formGroup",a.itemForm),t.xp6(23),t.Q6J("ngForOf",a.unitsData),t.xp6(15),t.Q6J("ngForOf",a.suppliers),t.xp6(5),t.Q6J("ngIf",null==(r=a.itemForm.get("description"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(s=a.itemForm.get("description"))?null:s.hasError("maxlength")),t.xp6(4),t.Q6J("disabled",!a.itemForm.valid)}},dependencies:[h.sg,h.O5,C.KE,C.hX,C.TO,A.Nt,g.a8,g.hq,g.dn,g.dk,g.n5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,x.lW,P.Hw,Y.gD,z.ey],styles:[".scroll-container[_ngcontent-%COMP%]{height:100%;overflow:auto}"]})}return n})();var ee=l(3514);function oe(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clearSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function ae(n,d){if(1&n&&(t.TgZ(0,"mat-header-cell",22),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Oqu(o.ItemsHeadings[e])}}function ie(n,d){1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",29),t._uU(2,"currency_rupee"),t.qZA(),t.BQk())}function ne(n,d){if(1&n&&(t.ynx(0,30),t.TgZ(1,"div",31),t._UZ(2,"img",32),t.TgZ(3,"div",33)(4,"h3",34),t._uU(5),t.qZA(),t.TgZ(6,"p",35),t._uU(7),t.qZA()()(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",e.image?o.baseURLImages+e.image:"../../../../../assets/images/No_Image.jpg",t.LSH),t.xp6(3),t.Oqu(e.itemName),t.xp6(2),t.Oqu(e.companyName)}}function re(n,d){if(1&n){const e=t.EpF();t.ynx(0,36),t.TgZ(1,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.goToEditItem(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.openDeleteConfirmDialog(a.itemId))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()(),t.BQk()}}const ce=function(n,d){return{description:n,subTitle:d}};function se(n,d){if(1&n&&(t.TgZ(0,"span",39),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(2,ce,"description"===o,"salePrice"===o)),t.xp6(1),t.Oqu(e[o])}}function le(n,d){if(1&n&&(t.TgZ(0,"mat-cell",23),t.YNc(1,ie,3,0,"ng-container",24),t.YNc(2,ne,8,3,"ng-container",25),t.YNc(3,re,7,0,"ng-container",26),t.YNc(4,se,2,5,"ng-template",27,28,t.W1O),t.qZA()),2&n){const e=t.MAs(5),o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","salePrice"===o),t.xp6(1),t.Q6J("ngIf","itemName"===o)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","action"===o)}}function me(n,d){1&n&&(t.ynx(0,19),t.YNc(1,ae,2,1,"mat-header-cell",20),t.YNc(2,le,6,4,"mat-cell",21),t.BQk()),2&n&&t.Q6J("matColumnDef",d.$implicit)}function de(n,d){1&n&&(t.TgZ(0,"div",40)(1,"td",41),t._uU(2,"Items not found"),t.qZA()())}function ue(n,d){1&n&&t._UZ(0,"mat-header-row")}function ge(n,d){1&n&&t._UZ(0,"mat-row")}let pe=(()=>{class n{constructor(e,o,a,r,s,b,I){this.dialog=e,this.router=o,this.service=a,this.snackBar=r,this.searchService=s,this.breadCrumb=b,this.commonService=I,this.value="",this.produtName="",this.categoryName="",this.categoryTypeName="",this.itemNotFound=!1,this.getAllItems=[],this.baseURLImages=u.$.api.baseUrl,this.dataSource=new U.by,this.displayedColumns=["itemName","itemCode","description","salePrice","availableQuantity","action"],this.ItemsHeadings=ee.x,this.pageSizeOptions=[5,10,25,100],this.pageSize=5,this.productId="",this.categoryId="",this.categoryTypeId=""}ngOnInit(){this.getProductAndCategoryData(),this.getproductItems()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getProductAndCategoryData(){const e=this.breadCrumb.getProduct(),o=this.breadCrumb.getCategory(),a=this.breadCrumb.getCategoryType();e&&o&&a?(this.productId=e.id,this.categoryId=o.id,this.categoryTypeId=a.id,this.produtName=e.name,this.categoryName=o.name,this.categoryTypeName=a.name):this.router.navigate(["/dashboard/in-stock"])}createNewProduct(){this.dialog.open(te,{disableClose:!0,width:"600px",height:"550px",data:{productId:this.productId,categoryId:this.categoryId,categoryTypeId:this.categoryTypeId}}).afterClosed().subscribe(o=>{o&&this.getproductItems()})}searchProduct(e){this.dataSource.data=""==e?this.getAllItems:this.searchService.searchObject(this.getAllItems,e,["itemName","itemCode"])}clearSearch(){this.value="",this.dataSource.data=this.getAllItems}getproductItems(){this.service.getProductItems(this.productId,this.categoryId,this.categoryTypeId).subscribe({next:e=>{this.getAllItems=e.data,this.dataSource.data=e.data},error:e=>{console.log(e.error.error)}})}openDeleteConfirmDialog(e){this.dialog.open($.h,{width:"600px",data:{title:"Confirm to Delete",content:"Are you sure you want to delete ?"}}).afterClosed().subscribe(a=>{a&&this.deleteItem(e)})}deleteItem(e){this.service.deleteProductItem(e).subscribe({next:()=>{this.getproductItems(),this.snackBar.open("Item Deleted Successfully","Close",{duration:5e3})},error:o=>{console.log("error",o.error.error)}})}goToEditItem(e){this.commonService.setSelectedProductItem(e),this.router.navigate(["/dashboard/in-stock/edit-item"])}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(f.uw),t.Y36(v.F0),t.Y36(T),t.Y36(q.ux),t.Y36(R),t.Y36(j),t.Y36(J.v))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-list"]],viewQuery:function(o,a){if(1&o&&t.Gf(ft.NW,5),2&o){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first)}},decls:32,vars:12,consts:[[1,"primary-toolbar"],[1,"heading"],[1,"bredcrumb"],["routerLink","/dashboard/in-stock"],["routerLink","/dashboard/in-stock/category"],["routerLink","/dashboard/in-stock/quality"],["type","button","mat-raised-button","",1,"primary-button",3,"click"],["appearance","outline","subscriptSizing","dynamic",1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search Item Name or Code",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"div-scroll"],[1,"mat-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"matNoDataRow"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length"],["matSuffix","","mat-icon-button","",3,"click"],[3,"matColumnDef"],["class","mat-table-head",4,"matHeaderCellDef"],["class","mat-table-cell",4,"matCellDef"],[1,"mat-table-head"],[1,"mat-table-cell"],[4,"ngIf"],["class","img-col",4,"ngIf","ngIfElse"],["class","icons",4,"ngIf"],["class","tabelData"],["nonImageColumn",""],[1,"priceIcon"],[1,"img-col"],[1,"image-container"],["alt","Image",3,"src"],[1,"image-details"],[1,"image-name","title"],[1,"image-subname","subHeading"],[1,"icons"],["type","button",1,"edit",3,"click"],["type","button",1,"delete",3,"click"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"mat-cell"]],template:function(o,a){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"div")(2,"h2",1),t._uU(3,"Items List"),t.qZA(),t.TgZ(4,"div",2)(5,"a",3),t._uU(6),t.qZA(),t._uU(7," > "),t.TgZ(8,"a",4),t._uU(9),t.qZA(),t._uU(10," > "),t.TgZ(11,"a",5),t._uU(12),t.qZA(),t._uU(13," > "),t.TgZ(14,"a"),t._uU(15,"Items"),t.qZA()()(),t.TgZ(16,"button",6),t.NdJ("click",function(){return a.createNewProduct()}),t.TgZ(17,"mat-icon"),t._uU(18,"add_circle"),t.qZA(),t._uU(19,"New Item "),t.qZA()(),t.TgZ(20,"mat-form-field",7)(21,"mat-icon",8),t._uU(22,"search"),t.qZA(),t.TgZ(23,"input",9),t.NdJ("ngModelChange",function(s){return a.value=s})("input",function(){return a.searchProduct(a.value)}),t.qZA(),t.YNc(24,oe,3,0,"button",10),t.qZA(),t.TgZ(25,"div",11)(26,"mat-table",12),t.YNc(27,me,3,1,"ng-container",13),t.YNc(28,de,3,0,"div",14),t.YNc(29,ue,1,0,"mat-header-row",15),t.YNc(30,ge,1,0,"mat-row",16),t.qZA()(),t._UZ(31,"mat-paginator",17)),2&o&&(t.xp6(6),t.Oqu(a.produtName),t.xp6(3),t.Oqu(a.categoryName),t.xp6(3),t.Oqu(a.categoryTypeName),t.xp6(11),t.Q6J("ngModel",a.value),t.xp6(1),t.Q6J("ngIf",""!==a.value),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(1),t.Q6J("ngForOf",a.displayedColumns),t.xp6(2),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",a.pageSizeOptions)("pageSize",a.pageSize)("length",a.dataSource.data.length))},dependencies:[h.mk,h.sg,h.O5,v.rH,C.KE,C.qo,C.R9,A.Nt,c.Fj,c.JJ,c.On,x.lW,x.RK,U.BZ,U.fO,U.as,U.w1,U.Dz,U.nj,U.ge,U.ev,U.XQ,U.Gk,U.Ee,H.Ye,P.Hw,ft.NW],styles:[".edit[_ngcontent-%COMP%]{margin-right:.5rem;color:#10941e;background-color:#d6ffdb;border-radius:.5rem;border:2px solid #d6ffdb}.edit[_ngcontent-%COMP%]:active{border-color:#10941e}.delete[_ngcontent-%COMP%]{color:#c33939;background-color:#ffd9d9;border-radius:.5rem;border:2px solid #ffd9d9}.delete[_ngcontent-%COMP%]:active{border-color:#c33939}@media screen and (max-width: 1024px){.image-container[_ngcontent-%COMP%]{gap:.2rem}.image-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.image-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#1f2937;font-weight:500}.table-header[_ngcontent-%COMP%]{padding:0 0 0 .5rem}}@media screen and (max-width: 886px){.image-container[_ngcontent-%COMP%]{display:block}.table-header[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.description[_ngcontent-%COMP%]{font-size:12px;font-weight:400}mat-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f2937;font-size:12px;font-weight:400}}@media screen and (max-width: 768px){.table-header[_ngcontent-%COMP%]{padding:0 0 0 .2rem}.edit[_ngcontent-%COMP%]{margin-right:.2rem;padding:0 .2rem}.mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.main-table[_ngcontent-%COMP%]{width:500px}.main-table[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{overflow-x:scroll}}@media screen and (max-width: 550px){.mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.table-header[_ngcontent-%COMP%]{font-size:8px;font-weight:700}}"]})}return n})();var he=l(2465);const fe=["invoiceContent"];function _e(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"h1",28),t._uU(3,"Actions"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"div",29)(6,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.printInvoice())}),t._uU(7," Print "),t.qZA(),t.TgZ(8,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.downloadPdf())}),t._uU(9," Download "),t.qZA()()()()}}const Ce=[{path:"",component:At},{path:"category",component:Ft},{path:"quality",component:Ht},{path:"items",component:pe},{path:"edit-item",component:O},{path:"damage-item",component:(()=>{class n{constructor(e,o,a,r){this.service=e,this.route=o,this.router=a,this.commonService=r,this.invoiceId="",this.unitsMap={},this.baseURLImages=u.$.api.baseUrl}ngOnInit(){this.getInvoiceId(),this.getInvoiceData(),this.getAllUnits()}getInvoiceId(){this.route.queryParams.subscribe(e=>{this.invoiceId=e.invoiceId})}getInvoiceData(){this.invoiceId?this.service.getDamageInvoice(this.invoiceId).subscribe(e=>{this.invoiceDetails=e}):this.router.navigate(["dashboard/balance-sheet"])}getAllUnits(){this.commonService.getAllUnit().subscribe(e=>{e&&(this.unitsMap=e.reduce((o,a)=>(o[a.unitId]=a.unitShortName,o),{}))})}gettotalAmount(e){return e.quantity*Number(e.item.salePrice)}downloadPdf(){this.commonService.generateAndSavePdf(this.invoiceContent.nativeElement,`Invoice_${this.invoiceDetails.invoiceId}.pdf`)}printInvoice(){const o=document.getElementById("previewFrame"),a=o.contentDocument||o.contentWindow.document;a.open(),a.write(`\n<!DOCTYPE html>\n<head>\n<style>\n@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap";.mat-ripple {\noverflow: hidden;\nposition: relative\n}\n@page {\n        size: A4;\n        margin: 0;\n    }\n@media print {\nprint-area *{ /* can be whatever CSS selector you need */\n    transform: scale(x)\n}\n}\n\nhtml,body {\nheight: 100%;\nfont-family: Montserrat,sans-serif\n}\nbody {\nmargin: 0\n}\n\n.primary-color {\ncolor: #fff;\nbackground-color: #4985e5\n}\n.div-scroll {\noverflow-x: auto\n}\n.subHeading {\ncolor: #637381;\nfont-weight: 600;\nfont-size: 14px\n}\n.title {\nfont-weight: 500!important;\ncolor: #1f2937;\nfont-size: 18px\n}\n.subTitle {\ncolor: #637381;\nfont-size: 16px;\nfont-weight: 500\n}\n.header {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 1rem\n}\n.header h1,.header h2 {\nmargin-bottom: 0\n}\n.card-header {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 1rem\n}\n.mat-table {\nmargin-top: 1rem\n}\n.mat-table .mat-table-head,.mat-table th,.mat-table mat-header-cell {\njustify-content: center;\npadding: 0;\nbackground-color: #f6fafe!important\n}\n.mat-table .mat-table-cell:first-of-type {\njustify-content: flex-start\n}\n.mat-table .mat-table-cell:last-child p,.mat-table td:last-child p {\nmargin-bottom: 0\n}\n.mat-table .mat-table-cell,.mat-table .mat-mdc-cell,.mat-table td {\ntext-align: center;\npadding: .5rem 0px;\njustify-content: center\n}\n.mat-table .mat-table-cell .description,.mat-table .mat-mdc-cell .description,.mat-table td .description {\nbackground-color: #e5fcfc;\nborder-radius: .5rem;\npadding: 1rem;\ncolor: #637381;\nwidth: 100%\n}\n.mat-table .mat-table-cell .priceIcon,.mat-table .mat-mdc-cell .priceIcon,.mat-table td .priceIcon {\nfont-size: medium;\nheight: auto;\nwidth: auto;\ncolor: #637381\n}\n.mat-table .mat-table-cell .priceIcon2,.mat-table .mat-mdc-cell .priceIcon2,.mat-table td .priceIcon2 {\nfont-size: medium;\nheight: auto;\nwidth: auto;\nposition: relative;\ntop: .2rem\n}\n.mat-table td,.mat-table th {\ntext-align: center\n}\n.mat-table .align_Start {\nwidth: 6rem;\ndisplay: flex;\npadding-left: 1rem;\njustify-content: flex-start\n}\n.invoice-container {\nmargin: 1rem auto;\npadding: 1cm;\nbackground-color: #fff;\nbox-shadow: 0 0 10px #0000001a;\nwidth: 21cm\n}\n.invoiceData {\npadding: 0px,.5cm;\nwidth: 19cm;\ndisplay: flex;\nflex-direction: column;\nmargin: 0 auto\n}\n.invoiceData .header {\npadding: 0rem\n}\n.invoiceData .header {\n  margin-top: 8px;\n }\n.invoiceData .header h3 {\nmargin-bottom: 0;\nline-height: 1.3rem\n}\n.invoiceData .header .header-1 {\ndisplay: flex\n}\n.invoiceData .header .header-1 .start {\nmin-width: 5rem;\ntext-align: start\n}\n.invoiceData .header .header-1 .middle {\nmax-width: 2rem;\ntext-align: center;\nmargin-right: 1rem\n}\n.invoiceData .header .header-2 {\ndisplay: flex;\nmax-width: 250px;\nmin-width: 250px;\njustify-content: end\n}\n.invoiceData .header .header-2 .start {\nmin-width: 7rem;\ntext-align: start\nmargin-botton:\n}\n.invoiceData .header .header-2 .middle {\nmax-width: 1rem;\ntext-align: center\n}\n.invoiceData .header .header-2 .end {\nmax-width: 6.5rem;\ntext-align: end!important;\nflex-grow: 1\n}\n.invoiceData .main {\ndisplay: flex;\nmargin-top: .5rem\n}\n.invoiceData .main img {\nheight: 80px;\nwidth: 80px\n}\n.invoiceData .main div {\nflex: 1;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\npadding-right: 80px\n}\n.invoiceData .main div h1,.invoiceData .main div h2 {\nmargin-bottom: 0\n}\n.invoiceData .main div .type {\ncolor: #1f2937;\nfont-weight: 500;\nfont-size: 1.3rem;\nposition: relative;\nright: 7%\n}\n.invoiceData .header h3 {\n  margin: 0rem;\n  line-height: 1.3rem;\n}\n.invoiceData .main h2 {\n  margin: 0rem;\n}\n.invoiceData h4 {\nmargin-bottom: 0rem;\nline-height: 1.3rem\n}\n.invoiceData h1 {\nalign-self: center;\npadding: 0;\nmargin: 0\n}\n.invoiceData .company {\nfont-weight: 600;\ntext-align: center;\nmargin-bottom: 0;\nfont-size: 1.7rem\n}\n.invoiceData .billed {\ndisplay: flex;\ngap: 1rem;\nmargin-top: .5rem\n}\n.invoiceData .billed h3 {\nfont-weight: 500;\ncolor: #4985e5;\nmargin-bottom: .7rem\n}\n.invoiceData .billed h3 span {\nmargin-left: .5rem;\nfont-size: 1em\n}\n.invoiceData .billed div {\nflex: 1;\nborder: 1px solid #F3F4F6;\nbackground-color: #f6fafe;\nborder-radius: 10px;\npadding: .5rem 1rem .2rem;\nmin-height: 5rem\n}\n.invoiceData .billed p {\nmargin-bottom: 0.3rem;\nline-height: 1rem\n}\n.invoiceData .billed p span {\nfont-weight: 500\n}\n.invoiceData .header h3 {\n  margin-bottom: 0px !important;\n  line-height: 1.3rem !important;\n}\n.invoiceData thead {\nbackground-color: #4985e5;\ncolor: #fff;\nfont-size: .8rem\n}\n.invoiceData thead th {\npadding: 0.5rem\n}\n.invoiceData td {\nfont-size: .9rem;\npadding: 0rem 1rem;\nfont-weight: 500;\ntext-align: center\n}\n.invoiceData .total {\ndisplay: flex;\nflex-direction: row;\njustify-content: end;\nmargin-top: 1rem\n}\n.invoiceData .total .billing {\nmax-width: 50%\n}\n\n.invoiceData .total .totalInwords {\nmargin-top: .5rem;\ntext-wrap: wrap;\npadding: 0.5rem 1rem;\nfont-size: 11px;\nfont-weight: 500\n}\n.invoiceData .total .totalInwords .amountTitle {\nfont-weight: 500;\nfont-size: 15px;\nmargin-right: .5rem\n}\n.invoiceData .paymentype td {\ntext-align: start;\npadding: 0 0 0.5rem 1rem\n}\n.invoiceData mat-icon {\nfont-size: medium;\nposition: relative;\ntop: .7rem;\nleft: .2rem\n}\n.invoiceData .value {\ncolor: #4985e5\n}\n.invoiceData .itemsTable {\nmargin-top: 1rem;\nwidth: 100%\n}\n.invoiceData .itemsTable tbody td {\nwidth: 14.2857142857%;\ntext-wrap: nowrap;\npadding: 0.5rem;\n}\n.invoiceData .itemsTable tbody td:nth-last-child(2) {\ntext-align: start;\npadding-left: 2rem\n}\n.invoiceData .itemsTable tbody td:last-child {\ntext-align: end;\npadding: 0 1.5rem 0 0;\n}\n\n.invoiceData .itemsTable tfoot td {\n  border-top: 1px solid rgb(230, 217, 217);\n  border-bottom: 1px solid rgb(230, 217, 217);\n  font-weight: 700;\n  padding: 0.5rem;\n}\n.invoiceData .itemsTable tfoot td:first-child {\ntext-align: end;\npadding-right: 12.5rem\n}\n.invoiceData .itemsTable tfoot td:last-child {\ntext-align: end;\npadding: 0 1.4rem 0 0\n}\n.invoiceData .itemsTable tfoot td:last-child span {\nposition: relative;\nbottom: 4px\n}\n.invoiceData .subTotal {\nfont-weight: 500;\nline-height: 1.5rem;\nwidth: 100%\n}\n.invoiceData .subTotal tbody tr td:first-child {\npadding-right: 3rem;\ntext-align: start;\ntext-wrap: no-wrap;\n}\n.invoiceData .subTotal tbody tr td:last-child {\ntext-align: end;\npadding: 0.3rem 1.5rem 0.3rem 1rem;\nmin-width: 5rem\n}\n.invoiceData .salesSubtotal tr td:first-child {\npadding-right: 3rem;\ntext-align: start\ntext-wrap: no-wrap\n}\n.invoiceData .total_amount {\nbackground-color: #4985e5;\ncolor: #fff\n}\n.invoiceData .stamp {\nmargin-top: 5rem;\ntext-align: center\n}\n.invoiceData .footer ul {\npadding-left: 1rem\n}\n.invoiceData .footer ul li {\nmargin-bottom: 0.5rem\n}\n.invoiceData .min-Height {\nmin-height: 16cm\n}\n.reason {\n    margin-top: 2rem;\n    span{\n        font-size: 1rem;\n    }\n}\n.signature {\n    display: flex;\n    flex-direction: column;\n    align-items: end;\n    h4, h3 {\n        width: 300px;\n    }\n}\n.invoiceData .header h3 {\n  margin-bottom: 0px;\n  line-height: 1.3rem;\n}\n.price-icon {\n  font-size: medium;\n  position: relative;\n  top: 1px;\n}\n.btn {\nheight: 3.2rem!important\n}\n.paidAmount {\nfont-weight: 700\n}\n.text-White {\ncolor: #fff\n}\n.bg-primary {\nbackground-color: #4985e5\n}\n.d-flex {\ndisplay: flex\n}\n.justify-content-center {\njustify-content: center\n}\n.align-items-center {\nalign-items: center\n}\n.m-0 {\nmargin: 0!important\n}\n.m-1 {\nmargin: .25rem\n}\n.m-2 {\nmargin: .5rem\n}\n.m-3 {\nmargin: 1rem\n}\n.mt-1 {\nmargin-top: .25rem\n}\n.mt-2 {\nmargin-top: .5rem\n}\n.mt-3 {\nmargin-top: 1rem\n}\n.mb-0 {\nmargin-bottom: 0rem!important\n}\n.mb-1 {\nmargin-bottom: .25rem!important\n}\n.mb-2 {\nmargin-bottom: .5rem\n}\n.mb-3 {\nmargin-bottom: 1rem\n}\n.me-1 {\nmargin-right: .25rem\n}\n.me-2 {\nmargin-right: .5rem\n}\n.me-3 {\nmargin-right: 1rem\n}\n.ms-4 {\nmargin-left: 2rem\n}\n.ps-3 {\npadding-left: 1rem\n}\n.p-0 {\npadding: 0!important\n}\n.p-1 {\npadding: .25rem\n}\n.p-2 {\npadding: .5rem\n}\n.p-3 {\npadding: 1rem\n}\n.pt-0 {\npadding-top: 0rem\n}\n.pt-1 {\npadding-top: .25rem\n}\n.pt-2 {\npadding-top: .5rem!important\n}\n.pt-3 {\npadding-top: 1rem\n}\n.pb-1 {\npadding-bottom: .25rem\n}\n.pb-2 {\npadding-bottom: .5rem\n}\n.pb-3 {\npadding-bottom: 1rem!important\n}\n.ps-5 {\npadding-left: 2.5rem\n}\n.text-left {\ntext-align: left\n}\n.text-center {\ntext-align: center!important\n}\n.text-right {\ntext-align: right\n}\n.text-nowrap {\ntext-wrap: nowrap\n}\n\n::deep {\nfont-family: Montserrat;\nfont-size: medium;\nfont-weight: 600\n}\n}\n@page {\n  size: A4;\n  margin: 0;\n}\n@media print {\n print-area *{ /* can be whatever CSS selector you need */\n   transform: scale(x)\n }\n}\n</style>\n</head>\n<body>\n${this.invoiceContent.nativeElement.innerHTML}\n</body>\n</html>\n`),a.close(),o.onload=function(){o.contentWindow.print()}}getTotalInWords(e){const o=Number(e);return this.commonService.convertNumberToWords(o)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T),t.Y36(v.gz),t.Y36(v.F0),t.Y36(J.v))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-damage-invoice"]],viewQuery:function(o,a){if(1&o&&t.Gf(fe,5),2&o){let r;t.iGM(r=t.CRH())&&(a.invoiceContent=r.first)}},decls:118,vars:24,consts:[[4,"ngIf"],[1,"div-scroll"],[1,"invoice-container"],["invoiceContent",""],["id","previewFrame",2,"display","none"],[1,"invoiceData"],[1,"header"],[1,"header-1"],[1,"title","start"],[1,"middle"],[1,"title"],[1,"header-2"],[1,"start","title"],[1,"end","title"],[1,"main"],["alt","organization-logo",3,"src"],[1,"company"],[1,"billed"],[1,"min-Height"],["cellspacing","0",1,"itemsTable"],[1,"text-nowrap"],[1,"price-icon"],[1,"reason"],[1,"value"],[1,"signature"],[1,"title","text-center"],[1,"stamp"],[1,"footer"],[1,"heading"],[1,"d-flex"],["mat-raised-button","",1,"primary-button","me-2",3,"click"],["mat-raised-button","",1,"primary-button",3,"click"]],template:function(o,a){1&o&&(t.YNc(0,_e,10,0,"mat-card",0),t.TgZ(1,"div",1)(2,"div",2,3),t._UZ(4,"iframe",4),t.TgZ(5,"div",5)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h3",8),t._uU(10,"GST NO"),t.qZA(),t.TgZ(11,"h3",9),t._uU(12,":"),t.qZA(),t.TgZ(13,"h3",10),t._uU(14),t.qZA()(),t.TgZ(15,"div",11)(16,"h3",12),t._uU(17,"Invoice No"),t.qZA(),t.TgZ(18,"h3",9),t._uU(19,":"),t.qZA(),t.TgZ(20,"h3",13),t._uU(21),t.qZA()()(),t.TgZ(22,"div",6)(23,"div",7)(24,"h3",8),t._uU(25,"Cell No"),t.qZA(),t.TgZ(26,"h3",9),t._uU(27,":"),t.qZA(),t.TgZ(28,"h3",10),t._uU(29),t.qZA()(),t.TgZ(30,"div",11)(31,"h3",12),t._uU(32,"Damage Date"),t.qZA(),t.TgZ(33,"h3",9),t._uU(34,":"),t.qZA(),t.TgZ(35,"h3",13),t._uU(36),t.ALo(37,"dateStrFormat"),t.qZA()()(),t.TgZ(38,"div",14),t._UZ(39,"img",15),t.TgZ(40,"div")(41,"h2",16),t._uU(42),t.qZA(),t.TgZ(43,"h2"),t._uU(44,"Damage-Invoice"),t.qZA()()(),t.TgZ(45,"div",17)(46,"div")(47,"h3"),t._uU(48," Billed By : "),t.TgZ(49,"span",10),t._uU(50),t.qZA()(),t.TgZ(51,"p"),t._uU(52," Email: "),t.TgZ(53,"span"),t._uU(54),t.qZA()(),t.TgZ(55,"p"),t._uU(56," Phone Number: "),t.TgZ(57,"span"),t._uU(58),t.qZA()()()(),t.TgZ(59,"div",18)(60,"table",19)(61,"thead")(62,"tr")(63,"th"),t._uU(64,"#"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Item Name"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Brand/Quality"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Quantity"),t.qZA(),t.TgZ(71,"th"),t._uU(72,"Unit"),t.qZA(),t.TgZ(73,"th"),t._uU(74,"Price"),t.qZA(),t.TgZ(75,"th"),t._uU(76,"Amount"),t.qZA()()(),t.TgZ(77,"tbody")(78,"tr")(79,"td"),t._uU(80,"1"),t.qZA(),t.TgZ(81,"td"),t._uU(82),t.qZA(),t.TgZ(83,"td"),t._uU(84),t.qZA(),t.TgZ(85,"td"),t._uU(86),t.qZA(),t.TgZ(87,"td",20),t._uU(88),t.qZA(),t.TgZ(89,"td",20),t._uU(90),t.ALo(91,"number"),t.qZA(),t.TgZ(92,"td",20)(93,"span",21),t._uU(94," \u20b9 "),t.qZA(),t._uU(95),t.ALo(96,"number"),t.qZA()()()(),t.TgZ(97,"p",22)(98,"span",23),t._uU(99,"Reason :"),t.qZA(),t._uU(100),t.qZA(),t.TgZ(101,"div",24)(102,"h4",25),t._uU(103),t.qZA(),t.TgZ(104,"h3",26),t._uU(105,"Authorized Signatory"),t.qZA()()(),t.TgZ(106,"div",27)(107,"h4",10),t._uU(108,"TERMS AND CONDITIONS"),t.qZA(),t.TgZ(109,"ul")(110,"li"),t._uU(111,"Good once sold will not be taken back or exchanged."),t.qZA(),t.TgZ(112,"li"),t._uU(113,"Subject to local jurisdiction only"),t.qZA(),t.TgZ(114,"li"),t._uU(115,"NO CLAIM SHALL BE ENTERTAINED AFTERLAYING THE TILES"),t.qZA(),t.TgZ(116,"li"),t._uU(117," Returns of goods will be accepted within 7 days from the date of purchase. "),t.qZA()()()()()()()),2&o&&(t.Q6J("ngIf",a.invoiceDetails),t.xp6(14),t.hij(" ",a.invoiceDetails.user.organization.gstNo||"36XXXXX0000X1ZX"," "),t.xp6(7),t.Oqu(a.invoiceId),t.xp6(8),t.hij(" ",a.invoiceDetails.user.organization.contactNumber," "),t.xp6(7),t.hij(" ",t.lcZ(37,18,a.invoiceDetails.damageDate)," "),t.xp6(3),t.Q6J("src",a.invoiceDetails.user.organization.image?a.baseURLImages+a.invoiceDetails.user.organization.image:"../../../../assets/images/logo.jpg",t.LSH),t.xp6(3),t.hij(" ",a.invoiceDetails.user.organization.organizationName," "),t.xp6(8),t.hij(" ",a.invoiceDetails.user.organization.organizationName," "),t.xp6(4),t.Oqu(a.invoiceDetails.user.email),t.xp6(4),t.Oqu(a.invoiceDetails.user.organization.contactNumber),t.xp6(24),t.Oqu(a.invoiceDetails.item.itemName),t.xp6(2),t.hij(" ",a.invoiceDetails.item.categoryTypeInfo.categoryTypeName," "),t.xp6(2),t.Oqu(a.invoiceDetails.quantity),t.xp6(2),t.hij(" ",a.unitsMap[a.invoiceDetails.item.unitId]," "),t.xp6(2),t.hij(" ",t.lcZ(91,20,a.invoiceDetails.salePrice)," "),t.xp6(5),t.hij("",t.lcZ(96,22,a.gettotalAmount(a.invoiceDetails))," "),t.xp6(5),t.hij(" ",a.invoiceDetails.reason," "),t.xp6(3),t.hij(" For: ",a.invoiceDetails.user.organization.organizationName," "))},dependencies:[h.O5,g.a8,g.dn,g.dk,x.lW,h.JJ,he.d],styles:[".reason[_ngcontent-%COMP%]{margin-top:2rem}.reason[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.signature[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end}.signature[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .signature[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:300px}"]})}return n})()}];let ye=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[v.Bz.forChild(Ce),v.Bz]})}return n})();var ve=l(8230),be=l(3298);let Ze=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({providers:[w.M,W.H,G._,T],imports:[h.ez,ye,ve.m,be.f]})}return n})()},1264:(k,N,l)=>{l.d(N,{_:()=>c});var h=l(788),v=l(5879),i=l(4173);let c=(()=>{class f{constructor(u){this.apiService=u,this.baseUrl="products/categories"}getAllQuality(u){return this.apiService.httpGet(`${this.baseUrl}/${u}/categoryTypes`)}createQuality(u,_){return this.apiService.httpPost(`${this.baseUrl}/${_}/categoryTypes`,u)}uploadFile(u,_){return this.apiService.httpPost(`${h.$.api.uploads}/${u}`,_)}editQuality(u,_){return this.apiService.httpPut(`${h.$.api.editCategoryType}/${_}`,u)}deleteQuality(u){return this.apiService.httpDelete(`${h.$.api.editCategoryType}/${u}`)}static#t=this.\u0275fac=function(_){return new(_||f)(v.LFG(i.s))};static#e=this.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2529:(k,N,l)=>{l.d(N,{H:()=>c});var h=l(788),v=l(5879),i=l(4173);let c=(()=>{class f{constructor(u){this.apiService=u,this.baseUrl=h.$.api.products}getAllCategories(u){return this.apiService.httpGet(`${this.baseUrl}/${u}/categories`)}createCategory(u,_){return this.apiService.httpPost(`${this.baseUrl}/${_}/categories`,u)}uploadFile(u,_){return this.apiService.httpPost(`${h.$.api.uploads}/${u}`,_)}updateProduct(u,_){return this.apiService.httpPut(`${h.$.api.categoriesEdit}/${u}`,_)}deleteCategory(u){return this.apiService.httpDelete(`${h.$.api.categoriesEdit}/${u}`)}static#t=this.\u0275fac=function(_){return new(_||f)(v.LFG(i.s))};static#e=this.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},1260:(k,N,l)=>{l.d(N,{M:()=>c});var h=l(788),v=l(5879),i=l(4173);let c=(()=>{class f{constructor(u){this.apiService=u}getUnits(){return this.apiService.httpGet(h.$.api.units)}getAllProducts(u=""){let _=h.$.api.products;return u&&(_=`${h.$.api.products}?supplierId=${u}`),this.apiService.httpGet(_)}updateProduct(u,_){return this.apiService.httpPut(`${h.$.api.products}/${u}`,_)}deleteProduct(u){return this.apiService.httpDelete(`${h.$.api.products}/${u}`)}createProduct(u){return this.apiService.httpPost(h.$.api.products,u)}uploadFile(u,_){return this.apiService.httpPost(`${h.$.api.uploads}/${u}`,_)}static#t=this.\u0275fac=function(_){return new(_||f)(v.LFG(i.s))};static#e=this.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2465:(k,N,l)=>{l.d(N,{d:()=>v});var h=l(5879);let v=(()=>{class i{transform(f){const[t,u,_]=f.split("T")[0].split("-");return`${_}/${u}/${t}`}static#t=this.\u0275fac=function(t){return new(t||i)};static#e=this.\u0275pipe=h.Yjl({name:"dateStrFormat",type:i,pure:!0})}return i})()}}]);