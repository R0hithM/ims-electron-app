"use strict";(self.webpackChunkinventory_management_ui=self.webpackChunkinventory_management_ui||[]).push([[899],{7899:(Dt,p,m)=>{m.r(p),m.d(p,{HomeModule:()=>At});var d=m(6814),h=m(1896),r=m(5313),P=m(788),c=m(6223),g=m(7700),t=m(5879),T=m(1301),v=m(2939),_=m(9157),f=m(2032),l=m(5195),C=m(2296),x=m(617),Z=m(8525),M=m(3680);function A(n,a){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.saleTypeId),t.xp6(1),t.hij(" ",e.saleType," ")}}let D=(()=>{class n{constructor(e,o,i,s,u){this.dialogRef=e,this.data=o,this.fb=i,this.service=s,this.snackbar=u,this.customerDueForm=new c.cw({}),this.paymentModes=[],this.selectedPaymentMode=""}ngOnInit(){this.createCustomerDueForm(),setTimeout(()=>{this.getPaymentModes()},100)}createCustomerDueForm(){this.customerDueForm=this.fb.group({customerName:[{value:this.data.customer_name,disabled:!0},[c.kI.required]],contactNumber:[{value:this.data.contact_number,disabled:!0},[c.kI.required,c.kI.pattern(/^[6-9]\d{9}$/)]],totalAmount:[{value:this.data.due_amount,disabled:!0},[c.kI.required,c.kI.minLength(3)]],paymentType:["",c.kI.required],paidAmount:["",c.kI.required]})}getPaymentModes(){this.service.getSaleType().subscribe({next:e=>{this.paymentModes=e.filter(o=>"Credit"!==o.saleType&&"Credit_Note"!==o.saleType)},error:()=>{throw Error("Error occured while getting payment type")}})}onMakePayment(){if(this.customerDueForm.valid){const e={customerId:this.data.customer_id,paidAmount:this.customerDueForm.get("paidAmount")?.value,paymentModeId:this.customerDueForm.get("paymentType")?.value};this.service.clearCustomerDue(e).subscribe({next:()=>{this.dialogRef.close(!0),this.snackbar.open("Customer Due Cleared Successfully","close",{duration:3e3})},error:()=>{this.snackbar.open("Customer Due Cleared Unsuccessfull","close",{duration:3e3})}})}}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.so),t.Y36(g.WI),t.Y36(c.qu),t.Y36(T.t),t.Y36(v.ux))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-due-dialog"]],decls:36,vars:3,consts:[[1,"dialog-card"],[1,"dialog-header"],[3,"click"],["aria-label","Close dialog"],[1,"dialog-content"],[3,"formGroup"],[1,"d-flex"],["appearance","outline"],["type","text","matInput","","formControlName","customerName"],["type","number","matInput","","formControlName","contactNumber"],["type","number","matInput","","formControlName","totalAmount"],["type","number","matInput","","formControlName","paidAmount"],["formControlName","paymentType"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",1,"primary-button",3,"disabled","click"],[3,"value"]],template:function(o,i){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Customer Due Details"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12,"Customer Name"),t.qZA(),t._UZ(13,"input",8),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label"),t._uU(16,"Contact Number"),t.qZA(),t._UZ(17,"input",9),t.qZA()(),t.TgZ(18,"div",6)(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Total Amount"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Paid Amount"),t.qZA(),t._UZ(26,"input",11),t.qZA()(),t.TgZ(27,"div",6)(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Payment Mode"),t.qZA(),t.TgZ(31,"mat-select",12),t.YNc(32,A,2,2,"mat-option",13),t.qZA()()()()(),t.TgZ(33,"mat-card-footer")(34,"button",14),t.NdJ("click",function(){return i.onMakePayment()}),t._uU(35," Make Payment "),t.qZA()()()),2&o&&(t.xp6(8),t.Q6J("formGroup",i.customerDueForm),t.xp6(24),t.Q6J("ngForOf",i.paymentModes),t.xp6(2),t.Q6J("disabled",i.customerDueForm.invalid))},dependencies:[d.sg,_.KE,_.hX,f.Nt,l.a8,l.dn,l.rt,l.dk,l.n5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,C.lW,x.Hw,Z.gD,M.ey],styles:["mat-card-content[_ngcontent-%COMP%]{padding-top:2rem}.d-flex[_ngcontent-%COMP%]{justify-content:space-between;gap:1rem}.d-flex[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-footer[_ngcontent-%COMP%]{text-align:end;padding-right:1rem}"]})}return n})();var U=m(2893),y=m(3176),O=m(4104),H=m(2557);let b=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-shimmer-effect"]],decls:11,vars:0,consts:[[1,"d-flex","justify-content-between"],[1,"photo","shine"],[1,"d-flex","cards","justify-content-between","mt-3"],[1,"shine"],[1,"table","mt-3"],[1,"table-1","shine"],[1,"table-2","shine"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"div",1)(2,"div",1),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"div",3)(5,"div",3)(6,"div",3)(7,"div",3),t.qZA(),t.TgZ(8,"div",4),t._UZ(9,"div",5)(10,"div",6),t.qZA())},styles:["body[_ngcontent-%COMP%]{border:2px solid #f6f7f8;padding:100px}.shine[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;background-size:800px;display:inline-block;position:relative;animation:_ngcontent-%COMP%_placeholderShimmer 1.5s forwards infinite linear}.box[_ngcontent-%COMP%]{height:104px;width:100px}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:64px}.cards[_ngcontent-%COMP%]{gap:2rem}.cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:250px;border-radius:1rem}.table[_ngcontent-%COMP%]{display:flex;gap:1rem}.table[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:30rem}.table[_ngcontent-%COMP%]   .table-1[_ngcontent-%COMP%]{flex:2}.table[_ngcontent-%COMP%]   .table-2[_ngcontent-%COMP%]{flex:1}.photo[_ngcontent-%COMP%]{display:block!important;width:250px;height:64px;margin-top:15px}@keyframes _ngcontent-%COMP%_placeholderShimmer{0%{background-position:-468px 0}to{background-position:468px 0px}}@media screen and (max-width: 768px){.cards[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})}return n})();function w(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-shimmer-effect"),t.qZA())}function k(n,a){if(1&n&&(t.TgZ(0,"mat-grid-list",38)(1,"mat-grid-tile")(2,"mat-card",39),t._UZ(3,"img",40),t.TgZ(4,"mat-card-actions")(5,"h2",3)(6,"mat-icon"),t._uU(7,"currency_rupee"),t.qZA(),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"p",41),t._uU(11),t.qZA()()()(),t.TgZ(12,"mat-grid-tile")(13,"mat-card",42),t._UZ(14,"img",43),t.TgZ(15,"mat-card-actions")(16,"h2",3)(17,"mat-icon"),t._uU(18,"currency_rupee"),t.qZA(),t._uU(19),t.ALo(20,"number"),t.qZA(),t.TgZ(21,"p",41),t._uU(22),t.qZA()()()(),t.TgZ(23,"mat-grid-tile")(24,"mat-card",44),t._UZ(25,"img",45),t.TgZ(26,"mat-card-actions")(27,"h2",3)(28,"mat-icon"),t._uU(29,"currency_rupee"),t.qZA(),t._uU(30),t.ALo(31,"number"),t.qZA(),t.TgZ(32,"p",41),t._uU(33),t.qZA()()()(),t.TgZ(34,"mat-grid-tile")(35,"mat-card",46),t._UZ(36,"img",47),t.TgZ(37,"mat-card-actions")(38,"h2",3)(39,"mat-icon"),t._uU(40,"currency_rupee"),t.qZA(),t._uU(41),t.ALo(42,"number"),t.qZA(),t.TgZ(43,"p",41),t._uU(44),t.qZA()()()()()),2&n){const e=t.oxw(2);t.Q6J("cols",e.cols)("rowHeight",e.rowHeight),t.xp6(8),t.hij("",t.xi3(9,10,e.getSummaryValues().sales,"1.0-0")," "),t.xp6(3),t.hij("",e.getSummaryValues().title," Sales"),t.xp6(8),t.hij("",t.xi3(20,13,e.getSummaryValues().purchase,"1.0-0")," "),t.xp6(3),t.hij("",e.getSummaryValues().title," Purchase"),t.xp6(8),t.hij("",t.xi3(31,16,e.getSummaryValues().dues,"1.0-0")," "),t.xp6(3),t.hij("",e.getSummaryValues().title," Dues"),t.xp6(8),t.hij("",t.xi3(42,19,e.getSummaryValues().returns,"1.0-0")," "),t.xp6(3),t.hij("",e.getSummaryValues().title," Returns")}}function q(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Item Details"),t.qZA())}function S(n,a){if(1&n&&(t.TgZ(0,"td",49)(1,"div",50),t._UZ(2,"img",51),t.TgZ(3,"div",52)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()()),2&n){const e=a.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",e.image?o.baseUrl+e.image:"../../../../assets/images/No_Image.jpg",t.LSH),t.xp6(3),t.Oqu(e.itemName),t.xp6(2),t.Oqu(e.companyName)}}function N(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Item Code"),t.qZA())}function Y(n,a){if(1&n&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.itemCode)}}function Q(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Quantity"),t.qZA())}function J(n,a){if(1&n&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.availableQuantity," ")}}function I(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Status"),t.qZA())}function R(n,a){1&n&&(t.TgZ(0,"p",55),t._uU(1," Low Stock "),t.qZA())}function z(n,a){1&n&&(t.TgZ(0,"p",56),t._uU(1," Out of Stock "),t.qZA())}function j(n,a){if(1&n&&(t.TgZ(0,"td",49),t.YNc(1,R,2,0,"p",53),t.YNc(2,z,2,0,"p",54),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0!==e.availableQuantity),t.xp6(1),t.Q6J("ngIf",0===e.availableQuantity)}}function F(n,a){1&n&&(t.TgZ(0,"div",57)(1,"td",58),t._uU(2,"No data found"),t.qZA()())}function L(n,a){1&n&&t._UZ(0,"tr",59)}function W(n,a){1&n&&t._UZ(0,"tr",60)}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clearSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function $(n,a){1&n&&(t.TgZ(0,"th",62),t._uU(1," Customer Details "),t.qZA())}function E(n,a){if(1&n&&(t.TgZ(0,"td",49)(1,"div",63)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"div",64)(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()()()),2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.customer_name.slice(0,1)),t.xp6(3),t.Oqu(e.customer_name),t.xp6(2),t.Oqu(e.contact_number)}}function G(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Amount"),t.qZA())}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",49)(1,"div",65)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"mat-chip",66),t.NdJ("click",function(){const s=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openDueDialog(s))}),t._uU(5,"Pay"),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.due_amount)}}function V(n,a){1&n&&(t.TgZ(0,"div",57)(1,"td",58),t._uU(2,"No data found"),t.qZA()())}function X(n,a){1&n&&t._UZ(0,"tr",59)}function tt(n,a){1&n&&t._UZ(0,"tr",60)}function et(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Item Name"),t.qZA())}function nt(n,a){if(1&n&&(t.TgZ(0,"td",49)(1,"div",50),t._UZ(2,"img",51),t.TgZ(3,"div",52)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()()),2&n){const e=a.$implicit,o=t.oxw(2);t.xp6(2),t.s9C("src",o.baseUrl+e.image,t.LSH),t.xp6(3),t.Oqu(e.itemName),t.xp6(2),t.Oqu(e.companyName)}}function at(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Item Code"),t.qZA())}function ot(n,a){if(1&n&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.itemCode)}}function it(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Available Quantity"),t.qZA())}function mt(n,a){if(1&n&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.availableQuantity," ")}}function ct(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Status"),t.qZA())}function st(n,a){1&n&&(t.TgZ(0,"p",55),t._uU(1," Low Stock "),t.qZA())}function rt(n,a){1&n&&(t.TgZ(0,"p",56),t._uU(1," Out of Stock "),t.qZA())}function lt(n,a){if(1&n&&(t.TgZ(0,"td",49),t.YNc(1,st,2,0,"p",53),t.YNc(2,rt,2,0,"p",54),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0!==e.availableQuantity),t.xp6(1),t.Q6J("ngIf",0===e.availableQuantity)}}function ut(n,a){1&n&&(t.TgZ(0,"div",57)(1,"td",58),t._uU(2,"No data found"),t.qZA()())}function _t(n,a){1&n&&t._UZ(0,"tr",59)}function dt(n,a){1&n&&t._UZ(0,"tr",60)}function gt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clearSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function pt(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Customer Details"),t.qZA())}function ht(n,a){if(1&n&&(t.TgZ(0,"td",49)(1,"div",63)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"div",64)(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()()()),2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.customer_name.slice(0,1)),t.xp6(3),t.Oqu(e.customer_name),t.xp6(2),t.Oqu(e.contact_number)}}function ft(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Amount"),t.qZA())}function Ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",49)(1,"div",65)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"mat-chip",66),t.NdJ("click",function(){const s=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openDueDialog(s))}),t._uU(5,"Pay"),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.due_amount)}}function xt(n,a){1&n&&(t.TgZ(0,"div",57)(1,"td",58),t._uU(2,"No data found"),t.qZA()())}function Zt(n,a){1&n&&t._UZ(0,"tr",59)}function Mt(n,a){1&n&&t._UZ(0,"tr",60)}function yt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2",3),t._uU(2,"Dashboard"),t.qZA(),t.TgZ(3,"mat-form-field",4)(4,"mat-label"),t._uU(5,"Summary"),t.qZA(),t.TgZ(6,"mat-select",5),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.selectedSummary=i)}),t.TgZ(7,"mat-option",6),t._uU(8,"Today"),t.qZA(),t.TgZ(9,"mat-option",7),t._uU(10,"Last 7 Days"),t.qZA(),t.TgZ(11,"mat-option",8),t._uU(12,"Last 30 Days"),t.qZA(),t.TgZ(13,"mat-option",9),t._uU(14,"Last 180 Days"),t.qZA(),t.TgZ(15,"mat-option",10),t._uU(16,"Last 1 Year"),t.qZA()()()(),t.YNc(17,k,45,22,"mat-grid-list",11),t.TgZ(18,"div",12)(19,"mat-card",13)(20,"h2",3),t._uU(21,"Stock Report"),t.qZA(),t.TgZ(22,"mat-card-content")(23,"mat-table",14),t.ynx(24,15),t.YNc(25,q,2,0,"th",16),t.YNc(26,S,8,3,"td",17),t.BQk(),t.ynx(27,18),t.YNc(28,N,2,0,"th",16),t.YNc(29,Y,2,1,"td",17),t.BQk(),t.ynx(30,19),t.YNc(31,Q,2,0,"th",16),t.YNc(32,J,2,1,"td",17),t.BQk(),t.ynx(33,20),t.YNc(34,I,2,0,"th",16),t.YNc(35,j,3,2,"td",17),t.BQk(),t.YNc(36,F,3,0,"div",21),t.YNc(37,L,1,0,"tr",22),t.YNc(38,W,1,0,"tr",23),t.qZA()()(),t.TgZ(39,"mat-card",24)(40,"div",25)(41,"h2",3),t._uU(42,"Due Amount"),t.qZA(),t.TgZ(43,"mat-form-field",26)(44,"mat-icon",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clickSearch())}),t._uU(45,"search"),t.qZA(),t.TgZ(46,"input",28),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.value=i)})("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.searchCustomer(i.value))}),t.qZA(),t.YNc(47,B,3,0,"button",29),t.qZA()(),t.TgZ(48,"mat-card-content")(49,"mat-table",30),t.ynx(50,31),t.YNc(51,$,2,0,"th",32),t.YNc(52,E,9,3,"td",17),t.BQk(),t.ynx(53,33),t.YNc(54,G,2,0,"th",16),t.YNc(55,K,6,1,"td",17),t.BQk(),t.YNc(56,V,3,0,"div",21),t.YNc(57,X,1,0,"tr",22),t.YNc(58,tt,1,0,"tr",23),t.qZA()()()(),t.TgZ(59,"mat-tab-group")(60,"mat-tab",34)(61,"mat-card",13)(62,"mat-card-content")(63,"mat-table",14),t.ynx(64,15),t.YNc(65,et,2,0,"th",16),t.YNc(66,nt,8,3,"td",17),t.BQk(),t.ynx(67,18),t.YNc(68,at,2,0,"th",16),t.YNc(69,ot,2,1,"td",17),t.BQk(),t.ynx(70,19),t.YNc(71,it,2,0,"th",16),t.YNc(72,mt,2,1,"td",17),t.BQk(),t.ynx(73,20),t.YNc(74,ct,2,0,"th",16),t.YNc(75,lt,3,2,"td",17),t.BQk(),t.YNc(76,ut,3,0,"div",21),t.YNc(77,_t,1,0,"tr",22),t.YNc(78,dt,1,0,"tr",23),t.qZA()()()(),t.TgZ(79,"mat-tab",35)(80,"mat-card",36)(81,"mat-card-header",37)(82,"mat-form-field",26)(83,"mat-icon",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clickSearch())}),t._uU(84,"search"),t.qZA(),t.TgZ(85,"input",28),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.value=i)})("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.searchCustomer(i.value))}),t.qZA(),t.YNc(86,gt,3,0,"button",29),t.qZA()(),t.TgZ(87,"mat-card-content")(88,"mat-table",30),t.ynx(89,31),t.YNc(90,pt,2,0,"th",16),t.YNc(91,ht,9,3,"td",17),t.BQk(),t.ynx(92,33),t.YNc(93,ft,2,0,"th",16),t.YNc(94,Ct,6,1,"td",17),t.BQk(),t.YNc(95,xt,3,0,"div",21),t.YNc(96,Zt,1,0,"tr",22),t.YNc(97,Mt,1,0,"tr",23),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.selectedSummary),t.xp6(11),t.Q6J("ngIf",e.summaryDetails),t.xp6(6),t.Q6J("dataSource",e.stockReportDataSource),t.xp6(14),t.Q6J("matHeaderRowDef",e.stockReportdisplayeColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.stockReportdisplayeColumns),t.xp6(5),t.Udp("width",e.searchWidth),t.xp6(3),t.Q6J("ngModel",e.value),t.xp6(1),t.Q6J("ngIf",""!==e.value),t.xp6(2),t.Q6J("dataSource",e.dueAmountdatasource),t.xp6(8),t.Q6J("matHeaderRowDef",e.dueAmountdisplayeColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.dueAmountdisplayeColumns),t.xp6(5),t.Q6J("dataSource",e.stockReportDataSource),t.xp6(14),t.Q6J("matHeaderRowDef",e.stockReportdisplayeColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.stockReportdisplayeColumns),t.xp6(4),t.Udp("width",e.searchWidth),t.xp6(3),t.Q6J("ngModel",e.value),t.xp6(1),t.Q6J("ngIf",""!==e.value),t.xp6(2),t.Q6J("dataSource",e.dueAmountdatasource),t.xp6(8),t.Q6J("matHeaderRowDef",e.dueAmountdisplayeColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.dueAmountdisplayeColumns)}}const Ot=[{path:"",component:(()=>{class n{constructor(e,o){this.commonService=e,this.dialog=o,this.cols=4,this.rowHeight="16rem",this.pageSizeOptions=[5,10,25,100],this.baseUrl=P.$.api.baseUrl,this.highlightColumns=["item_Name","status"],this.highlightAllValues=!1,this.selectedSummary="today",this.searchWidth="50px",this.stockReportdisplayeColumns=["itemDetails","itemCode","availableQuantity","status"],this.dueAmountdisplayeColumns=["customerDetails","amount"],this.dueAmountdatasource=new r.by,this.stockReportDataSource=new r.by([]),this.value="",this.allDues=[],this.isloaded=!1,this.isLoading=!0}ngOnInit(){this.commonService.isLoading$.subscribe(e=>this.isLoading=e),this.getWindowSize(),this.getSummaryData()}getSummaryValues(){const e={title:"",sales:"0.00",purchase:"0.00",dues:"0.00",returns:"0.00"};switch(this.selectedSummary){case"today":e.title="Today",e.sales=this.summaryDetails.sales.todaySales,e.purchase=this.summaryDetails.purchases.todayPurchase,e.dues=this.summaryDetails.sales.todayDueAmount,e.returns=this.summaryDetails.returns.todayReturns;break;case"last7":e.title="Last Week",e.sales=this.summaryDetails.sales.lastWeekSales,e.purchase=this.summaryDetails.purchases.lastWeekPurchase,e.dues=this.summaryDetails.sales.lastWeekDueAmount,e.returns=this.summaryDetails.returns.lastWeekReturns;break;case"last30":e.title="Last Month",e.sales=this.summaryDetails.sales.last30Sales,e.purchase=this.summaryDetails.purchases.last30Purchase,e.dues=this.summaryDetails.sales.last30DueAmount,e.returns=this.summaryDetails.returns.last30Returns;break;case"last180":e.title="Last 6 Months",e.sales=this.summaryDetails.sales.last180Sales,e.purchase=this.summaryDetails.purchases.last180Purchase,e.dues=this.summaryDetails.sales.last180DueAmount,e.returns=this.summaryDetails.returns.last180Returns;break;case"last365":e.title="Last 1 Year",e.sales=this.summaryDetails.sales.last365Sales,e.purchase=this.summaryDetails.purchases.last365Purchase,e.dues=this.summaryDetails.sales.last365DueAmount,e.returns=this.summaryDetails.returns.last365Returns}return e}getSummaryData(){this.commonService.getSummaryData().subscribe({next:e=>{this.summaryDetails=e},error:e=>{console.log(e)},complete:()=>{this.stockReportDataSource.data=this.summaryDetails.lowStockItems,this.dueAmountdatasource.data=this.summaryDetails.customerDues,this.allDues=this.summaryDetails.customerDues,this.isloaded=!0}})}onResize(){this.getWindowSize()}getWindowSize(){window.innerWidth<=868?(this.cols=2,this.rowHeight="12rem"):(this.cols=4,this.rowHeight="16rem")}searchCustomer(e){this.dueAmountdatasource.data=""==e?this.allDues:this.allDues.filter(o=>o.contact_number.startsWith(e)||o.customer_name.toLowerCase().startsWith(e.toLowerCase()))}clearSearch(){this.value="",this.dueAmountdatasource.data=this.allDues}clickSearch(){this.searchWidth="50px"===this.searchWidth?"220px":"50px"}openDueDialog(e){this.dialog.open(D,{width:"600px",height:"400px",data:e}).afterClosed().subscribe(i=>{i&&this.getSummaryData()}),this.clearSearch(),this.searchWidth="50px"}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(U.v),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],hostBindings:function(o,i){1&o&&t.NdJ("resize",function(u){return i.onResize(u)},!1,t.Jf7)},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedContent",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"heading"],["subscriptSizing","dynamic"],[3,"ngModel","ngModelChange"],["value","today"],["value","last7"],["value","last30"],["value","last180"],["value","last365"],["gutterSize","1rem",3,"cols","rowHeight",4,"ngIf"],[1,"table","tabel-main"],[1,"table-1","mat-elevation-z8"],[3,"dataSource"],["matColumnDef","itemDetails"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemCode"],["matColumnDef","availableQuantity"],["matColumnDef","status"],["class","d-flex justify-content-center",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-2","mat-elevation-z8","due_amount"],[1,"due-customer-search"],["appearance","outline","subscriptSizing","dynamic",1,"search"],["matPrefix","",3,"click"],["type","text","matInput","","placeholder","Search Customer",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","customerDetails"],["mat-header-cell","","class","dueAmountContent",4,"matHeaderCellDef"],["matColumnDef","amount"],["label","Stock Report"],["label","Due Amount"],[1,"table-2","mat-elevation-z8"],[1,"customer-search-md"],["gutterSize","1rem",3,"cols","rowHeight"],[1,"sale"],["src","../../../../assets/svg/sale.svg","alt","sale graph"],[1,"subHeading"],[1,"purchase"],["src","../../../../assets/svg/purchase.svg","alt","purchase graph"],[1,"payment"],["src","../../../../assets/svg/due.svg","alt","due graph"],[1,"return"],["src","../../../../assets/svg/return.svg","alt","return graph"],["mat-header-cell",""],["mat-cell",""],[1,"image-container"],["alt","item_photo",3,"src"],[1,"image-details"],["class","lowStock status",4,"ngIf"],["class","outOfStock status",4,"ngIf"],[1,"lowStock","status"],[1,"outOfStock","status"],[1,"d-flex","justify-content-center"],[1,"mat-cell"],["mat-header-row",""],["mat-row",""],["matSuffix","","mat-icon-button","",3,"click"],["mat-header-cell","",1,"dueAmountContent"],[1,"first_letter"],[1,"customer-details"],[1,"d-flex"],[1,"primary-button",3,"click"]],template:function(o,i){if(1&o&&(t.YNc(0,w,2,0,"div",0),t.YNc(1,yt,98,22,"ng-template",null,1,t.W1O)),2&o){const s=t.MAs(2);t.Q6J("ngIf",i.isLoading&&!i.isloaded)("ngIfElse",s)}},dependencies:[d.O5,_.KE,_.hX,_.qo,_.R9,f.Nt,y.Il,y.DX,l.a8,l.hq,l.dn,l.dk,c.Fj,c.JJ,c.On,C.RK,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,r.Ee,x.Hw,Z.gD,M.ey,O.uX,O.SP,H.HS,b,d.JJ],styles:[".due-customer-search[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem 0rem}.due-customer-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{transition:1.5s ease-out}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}mat-grid-list[_ngcontent-%COMP%]{margin-top:1rem}mat-grid-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px}mat-grid-list[_ngcontent-%COMP%]   .sale[_ngcontent-%COMP%]{background-color:#9cbef6}mat-grid-list[_ngcontent-%COMP%]   .purchase[_ngcontent-%COMP%]{background-color:#f3e2fd}mat-grid-list[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]{background-color:#faf1cd}mat-grid-list[_ngcontent-%COMP%]   .return[_ngcontent-%COMP%]{background-color:#fee1e1}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{border-radius:1rem}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%;height:100%;justify-content:center;align-items:center;border-radius:1rem;padding-bottom:1rem;box-shadow:none}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;padding:0}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex}mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#000;font-size:1.5rem;align-self:center}mat-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:1rem;margin-bottom:1rem}.table[_ngcontent-%COMP%]{display:flex;gap:1rem;width:100%;padding-bottom:1rem;margin-top:1rem}.table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#637381}.table-1[_ngcontent-%COMP%]{flex:1.5;height:100%}.table-1[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:0;padding:1rem}.table-1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}.table-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-wrap:nowrap;text-align:center}.table-1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:center;width:8rem}.table-1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .table-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:start;width:70%}.table-1[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.table-1[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border:1px solid #637381;border-radius:.5rem}.table-1[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1rem}.table-1[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:0}.table-1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:8rem}.table-1[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.5rem;border-radius:12px;color:#fff;width:7rem;text-align:center;text-wrap:nowrap}.table-1[_ngcontent-%COMP%]   .outOfStock[_ngcontent-%COMP%]{background-color:red}.table-1[_ngcontent-%COMP%]   .lowStock[_ngcontent-%COMP%]{background-color:#fe8485}.table-2[_ngcontent-%COMP%]{flex:1;height:100%}.table-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:100%}.table-2[_ngcontent-%COMP%]   .first_letter[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.table-2[_ngcontent-%COMP%]   .first_letter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:50px;width:50px;font-size:x-large;padding:1rem;border-radius:50%;color:orange;background-color:#fce1b4;display:flex;justify-content:center;align-items:center}.table-2[_ngcontent-%COMP%]   .first_letter[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1rem}.table-2[_ngcontent-%COMP%]   .first_letter[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:0}mat-tab-group[_ngcontent-%COMP%]{display:none}.mat-mdc-card-content[_ngcontent-%COMP%]:first-child{padding-top:16px}mat-table[_ngcontent-%COMP%]{max-height:30rem;overflow:scroll}mat-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], mat-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;padding:.5rem}.mat-column-amount[_ngcontent-%COMP%]{text-align:center}.mat-column-amount[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{gap:1rem;align-items:center;justify-content:space-between}@media screen and (max-width: 768px){.image-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}mat-tab-group[_ngcontent-%COMP%]{margin-top:2rem;display:block}.table[_ngcontent-%COMP%]{display:none}.mat-mdc-card-content[_ngcontent-%COMP%]:first-child{padding:0}.table-1[_ngcontent-%COMP%]{min-width:600px}}@media screen and (max-width: 1100px){mat-tab-group[_ngcontent-%COMP%]{margin-top:2rem;display:block}.table[_ngcontent-%COMP%]{display:none}.subHeading[_ngcontent-%COMP%]{font-weight:500;font-size:10px}.customer-search-md[_ngcontent-%COMP%]{justify-content:end}.customer-search-md[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{transition:1s ease-out}}@media only screen and (max-width: 900px) and (min-width: 769px){mat-grid-tile[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.subHeading[_ngcontent-%COMP%]{font-weight:500;font-size:10px}h2[_ngcontent-%COMP%]{font-size:18px}.mat-mdc-card-content[_ngcontent-%COMP%]:first-child{padding-top:0}}"]})}return n})()},{path:"shimmer-effect",component:b},{path:"side-nav-shimmer-effect",component:(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-side-nav-shimmer-effect"]],decls:7,vars:0,consts:[[1,"menu"],[1,"shine"],[1,"shine","logOut"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"div",1)(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",1)(6,"div",2),t.qZA())},styles:[".menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:2.5rem;height:35rem}.menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:56px;width:200px;border-radius:.5rem}.menu[_ngcontent-%COMP%]   .logOut[_ngcontent-%COMP%]{position:relative;top:12rem}.shine[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8 0%,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;background-size:800px;display:inline-block;position:relative;animation:_ngcontent-%COMP%_placeholderShimmer 1.5s forwards infinite linear}@keyframes _ngcontent-%COMP%_placeholderShimmer{0%{background-position:-468px 0}to{background-position:468px 0px}}"]})}return n})()}];let bt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(Ot),h.Bz]})}return n})(),Pt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tt=m(3298),vt=m(8230);let At=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[Pt],imports:[d.ez,bt,Tt.f,vt.m]})}return n})()}}]);